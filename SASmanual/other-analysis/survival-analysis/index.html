



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Learning How to Program in SAS">
      
      
      
        <meta name="author" content="Lucía Rodrigo Insausti">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>Survival Analysis - SAS Manual</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.11e41852.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#what-is-survival-analysis" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="SAS Manual" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                SAS Manual
              </span>
              <span class="md-header-nav__topic">
                Survival Analysis
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="SAS Manual" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    SAS Manual
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Gettin' Started!" class="md-nav__link">
      Gettin' Started!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      The Essentials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        The Essentials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/accessing/" title="Accessing Data" class="md-nav__link">
      Accessing Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/reporting/" title="Producing Detailed Reports" class="md-nav__link">
      Producing Detailed Reports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/formatting/" title="Formatting Data Values" class="md-nav__link">
      Formatting Data Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/reading-sas/" title="Reading SAS Data Sets" class="md-nav__link">
      Reading SAS Data Sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/reading-spreadsheets/" title="Reading Spreadsheet and Database Data" class="md-nav__link">
      Reading Spreadsheet and Database Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/reading-raw/" title="Reading Raw Data Files" class="md-nav__link">
      Reading Raw Data Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/manipulation/" title="Manipulating Data" class="md-nav__link">
      Manipulating Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/combination/" title="Combining SAS Data Sets" class="md-nav__link">
      Combining SAS Data Sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/summary/" title="Creating Summary Reports" class="md-nav__link">
      Creating Summary Reports
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Basic Statistics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Basic Statistics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/anova/" title="Analysis of Variance (ANOVA)" class="md-nav__link">
      Analysis of Variance (ANOVA)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/regression/" title="Regression" class="md-nav__link">
      Regression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/inference/" title="Model Post-Fitting for Inference" class="md-nav__link">
      Model Post-Fitting for Inference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/categorical-data/" title="Categorical Data Analysis" class="md-nav__link">
      Categorical Data Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/prediction/" title="Model Building and Scoring for Prediction" class="md-nav__link">
      Model Building and Scoring for Prediction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/miscellanea/" title="Miscellanea" class="md-nav__link">
      Miscellanea
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Using Macros
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Using Macros
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/introducing-macrovar/" title="Introducing Macro Variables" class="md-nav__link">
      Introducing Macro Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/using-macrofunc/" title="Using Macro Functions" class="md-nav__link">
      Using Macro Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macrovar-at-execution-time/" title="Creating Macro Variables at Execution Time" class="md-nav__link">
      Creating Macro Variables at Execution Time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macroprog/" title="Creating and Using Macro Programs" class="md-nav__link">
      Creating and Using Macro Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macroprog-processing/" title="Using Conditional and Iterative Processing in Macro Programs" class="md-nav__link">
      Using Conditional and Iterative Processing in Macro Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/debugging-options/" title="Debugging Options" class="md-nav__link">
      Debugging Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/more-macro/" title="More on Macro Programming" class="md-nav__link">
      More on Macro Programming
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      SQL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        SQL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/getting-started/" title="Getting Started with the SQL Procedure" class="md-nav__link">
      Getting Started with the SQL Procedure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/efficiencies/" title="Measuring Efficiencies" class="md-nav__link">
      Measuring Efficiencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/displaying-results/" title="Displaying Query Results" class="md-nav__link">
      Displaying Query Results
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/joins/" title="Working with SQL Joins" class="md-nav__link">
      Working with SQL Joins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/nested-queries/" title="Working with Nested Queries" class="md-nav__link">
      Working with Nested Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/set-operators/" title="Working with Set Operators" class="md-nav__link">
      Working with Set Operators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/tables-views/" title="Creating Tables and Views" class="md-nav__link">
      Creating Tables and Views
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/advanced/" title="Using Advanced PROC SQL Features" class="md-nav__link">
      Using Advanced PROC SQL Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/miscellanea/" title="Miscellanea" class="md-nav__link">
      Miscellanea
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Other Analysis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Other Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../model-selection/" title="Model Selection" class="md-nav__link">
      Model Selection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../missing-data/" title="Dealing with Missing Data" class="md-nav__link">
      Dealing with Missing Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../interim-analysis/" title="Interim Analysis Design" class="md-nav__link">
      Interim Analysis Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../normality-tests/" title="Normality Tests" class="md-nav__link">
      Normality Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../post-hoc-tests/" title="Post-hoc Tests" class="md-nav__link">
      Post-hoc Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../effect-size/" title="Effect Size" class="md-nav__link">
      Effect Size
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../propensity-score/" title="Propensity Score" class="md-nav__link">
      Propensity Score
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../roc-curve/" title="ROC Curve" class="md-nav__link">
      ROC Curve
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../questionnaires/" title="Questionnaires analysis" class="md-nav__link">
      Questionnaires analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sequence-design/" title="Sequence Design" class="md-nav__link">
      Sequence Design
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Survival Analysis
      </label>
    
    <a href="./" title="Survival Analysis" class="md-nav__link md-nav__link--active">
      Survival Analysis
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-survival-analysis" title="What Is Survival Analysis?" class="md-nav__link">
    What Is Survival Analysis?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#endpoints-in-clinical-trials-related-to-survival-analysis" title="Endpoints in Clinical Trials Related to Survival Analysis" class="md-nav__link">
    Endpoints in Clinical Trials Related to Survival Analysis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overall-survival" title="Overall Survival" class="md-nav__link">
    Overall Survival
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-to-tumor-progression-and-progression-free-survival" title="Time to Tumor Progression and Progression-Free Survival" class="md-nav__link">
    Time to Tumor Progression and Progression-Free Survival
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-to-treatment-failure" title="Time to Treatment Failure" class="md-nav__link">
    Time to Treatment Failure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duration-of-response" title="Duration of Response" class="md-nav__link">
    Duration of Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-the-basis-of-survival-analysis" title="Understanding the Basis of Survival Analysis" class="md-nav__link">
    Understanding the Basis of Survival Analysis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-probability-density-function" title="The Probability Density Function" class="md-nav__link">
    The Probability Density Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-cumulative-distribution-function" title="The Cumulative Distribution Function" class="md-nav__link">
    The Cumulative Distribution Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-survival-function" title="The Survival Function" class="md-nav__link">
    The Survival Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-hazard-function" title="The Hazard Function" class="md-nav__link">
    The Hazard Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-cumulative-hazard-function" title="The Cumulative Hazard Function" class="md-nav__link">
    The Cumulative Hazard Function
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-preparation-and-exploration" title="Data Preparation and Exploration" class="md-nav__link">
    Data Preparation and Exploration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-of-the-data" title="Structure of the Data" class="md-nav__link">
    Structure of the Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exploration-with-proc-univariate-and-proc-corr" title="Data Exploration with PROC UNIVARIATE and PROC CORR" class="md-nav__link">
    Data Exploration with PROC UNIVARIATE and PROC CORR
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nonparametric-methods-proc-lifetest" title="Nonparametric Methods (PROC LIFETEST)" class="md-nav__link">
    Nonparametric Methods (PROC LIFETEST)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#p-value-calculation" title="P-value Calculation" class="md-nav__link">
    P-value Calculation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimating-the-survival-curve-using-the-kaplanmeier-method" title="Estimating the survival curve using the Kaplan–Meier method" class="md-nav__link">
    Estimating the survival curve using the Kaplan–Meier method
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparing-survival-curves-of-two-groups-using-the-log-rank-test" title="Comparing survival curves of two groups using the log rank test" class="md-nav__link">
    Comparing survival curves of two groups using the log rank test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coxs-proportional-hazards-regression-model-proc-phreg" title="Cox's Proportional Hazards Regression Model (PROC PHREG)" class="md-nav__link">
    Cox's Proportional Hazards Regression Model (PROC PHREG)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#censoring" title="Censoring" class="md-nav__link">
    Censoring
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#informative-censoring" title="Informative Censoring" class="md-nav__link">
    Informative Censoring
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../HR_vs_OR_vs_RR/" title="Odds Ratio, Hazard Ratio and Relative Risk" class="md-nav__link">
      Odds Ratio, Hazard Ratio and Relative Risk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../clustering/" title="Clustering" class="md-nav__link">
      Clustering
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Specific Procedures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Specific Procedures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/regression-models/" title="General Notes on Regression Procedures" class="md-nav__link">
      General Notes on Regression Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/glimmix/" title="PROC GLIMMIX" class="md-nav__link">
      PROC GLIMMIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/mixed/" title="PROC MIXED" class="md-nav__link">
      PROC MIXED
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      SAS Outputs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        SAS Outputs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/ods/" title="Output Delivery System" class="md-nav__link">
      Output Delivery System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/graphs/" title="Graphs and Plots" class="md-nav__link">
      Graphs and Plots
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/print/" title="PROC PRINT" class="md-nav__link">
      PROC PRINT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/report/" title="PROC REPORT" class="md-nav__link">
      PROC REPORT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/tabulate/" title="PROC TABULATE" class="md-nav__link">
      PROC TABULATE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/template/" title="PROC TEMPLATE" class="md-nav__link">
      PROC TEMPLATE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/pdf/" title="Write to pdf file" class="md-nav__link">
      Write to pdf file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/excel/" title="Export to Excel file" class="md-nav__link">
      Export to Excel file
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      SAS vs R
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        SAS vs R
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/importing-reporting/" title="Importing and Reporting Data" class="md-nav__link">
      Importing and Reporting Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/variables-functions/" title="Creating New Variables, Functions and Data Tables" class="md-nav__link">
      Creating New Variables, Functions and Data Tables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/random-plotting/" title="Random Number Generation and Plotting" class="md-nav__link">
      Random Number Generation and Plotting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/proc-ods-macros/" title="Descriptive Procedures, Output Delivery System and Macros" class="md-nav__link">
      Descriptive Procedures, Output Delivery System and Macros
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/inferential/" title="Analyzing the Data via Inferential Procedures" class="md-nav__link">
      Analyzing the Data via Inferential Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/iml/" title="Interactive Matrix Language (IML)" class="md-nav__link">
      Interactive Matrix Language (IML)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/bridge/" title="A Bridge Between SAS and R" class="md-nav__link">
      A Bridge Between SAS and R
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../wizard/" title="Using Wizard Menus" class="md-nav__link">
      Using Wizard Menus
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../sasvi/" title="SAS Visual Analytics" class="md-nav__link">
      SAS Visual Analytics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      CDISC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        CDISC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CDISC/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Miscellanea
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Miscellanea
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/arrays/" title="Working with Arrays" class="md-nav__link">
      Working with Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/execution-time/" title="Execution time" class="md-nav__link">
      Execution time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/time-intervals/" title="Time intervals" class="md-nav__link">
      Time intervals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/patient-identification/" title="Patient identification" class="md-nav__link">
      Patient identification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/random-list/" title="Generating a Random List" class="md-nav__link">
      Generating a Random List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/shell/" title="Shell Scripting in SAS" class="md-nav__link">
      Shell Scripting in SAS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Medical terms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Medical terms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/general/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/labs/" title="Laboratory Test" class="md-nav__link">
      Laboratory Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/mutations/" title="Mutations" class="md-nav__link">
      Mutations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/exposure/" title="Treatment Exposure" class="md-nav__link">
      Treatment Exposure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/orr-dcr/" title="ORR and DCR" class="md-nav__link">
      ORR and DCR
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      R with Shiny
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        R with Shiny
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/introduction/" title="Introduction and Shiny Basics" class="md-nav__link">
      Introduction and Shiny Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/input-output/" title="Inputs, Outputs, and Rendering Functions" class="md-nav__link">
      Inputs, Outputs, and Rendering Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/reactive/" title="Reactive Programming" class="md-nav__link">
      Reactive Programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/custom/" title="Customizing Appearance" class="md-nav__link">
      Customizing Appearance
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-survival-analysis" title="What Is Survival Analysis?" class="md-nav__link">
    What Is Survival Analysis?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#endpoints-in-clinical-trials-related-to-survival-analysis" title="Endpoints in Clinical Trials Related to Survival Analysis" class="md-nav__link">
    Endpoints in Clinical Trials Related to Survival Analysis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overall-survival" title="Overall Survival" class="md-nav__link">
    Overall Survival
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-to-tumor-progression-and-progression-free-survival" title="Time to Tumor Progression and Progression-Free Survival" class="md-nav__link">
    Time to Tumor Progression and Progression-Free Survival
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-to-treatment-failure" title="Time to Treatment Failure" class="md-nav__link">
    Time to Treatment Failure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duration-of-response" title="Duration of Response" class="md-nav__link">
    Duration of Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-the-basis-of-survival-analysis" title="Understanding the Basis of Survival Analysis" class="md-nav__link">
    Understanding the Basis of Survival Analysis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-probability-density-function" title="The Probability Density Function" class="md-nav__link">
    The Probability Density Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-cumulative-distribution-function" title="The Cumulative Distribution Function" class="md-nav__link">
    The Cumulative Distribution Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-survival-function" title="The Survival Function" class="md-nav__link">
    The Survival Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-hazard-function" title="The Hazard Function" class="md-nav__link">
    The Hazard Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-cumulative-hazard-function" title="The Cumulative Hazard Function" class="md-nav__link">
    The Cumulative Hazard Function
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-preparation-and-exploration" title="Data Preparation and Exploration" class="md-nav__link">
    Data Preparation and Exploration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-of-the-data" title="Structure of the Data" class="md-nav__link">
    Structure of the Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exploration-with-proc-univariate-and-proc-corr" title="Data Exploration with PROC UNIVARIATE and PROC CORR" class="md-nav__link">
    Data Exploration with PROC UNIVARIATE and PROC CORR
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nonparametric-methods-proc-lifetest" title="Nonparametric Methods (PROC LIFETEST)" class="md-nav__link">
    Nonparametric Methods (PROC LIFETEST)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#p-value-calculation" title="P-value Calculation" class="md-nav__link">
    P-value Calculation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimating-the-survival-curve-using-the-kaplanmeier-method" title="Estimating the survival curve using the Kaplan–Meier method" class="md-nav__link">
    Estimating the survival curve using the Kaplan–Meier method
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparing-survival-curves-of-two-groups-using-the-log-rank-test" title="Comparing survival curves of two groups using the log rank test" class="md-nav__link">
    Comparing survival curves of two groups using the log rank test
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coxs-proportional-hazards-regression-model-proc-phreg" title="Cox's Proportional Hazards Regression Model (PROC PHREG)" class="md-nav__link">
    Cox's Proportional Hazards Regression Model (PROC PHREG)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#censoring" title="Censoring" class="md-nav__link">
    Censoring
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#informative-censoring" title="Informative Censoring" class="md-nav__link">
    Informative Censoring
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Survival Analysis</h1>
                
                <h2 id="what-is-survival-analysis">What Is Survival Analysis?<a class="headerlink" href="#what-is-survival-analysis" title="Permanent link">Link</a></h2>
<div class="admonition summary">
<p class="admonition-title">Check these websites</p>
<ul>
<li><a href="https://www.sgapeio.es/INFORMEST/VICongreso/taller/applets/biomates/super/super.htm">Análisis de supervivencia</a></li>
<li><a href="https://stats.idre.ucla.edu/sas/seminars/sas-survival/">Introduction to survival analysis in SAS</a></li>
<li><a href="https://www.lexjansen.com/pharmasug/2018/AD/PharmaSUG-2018-AD25.pdf">A SAS Macro to Generate Information Rich Kaplan-Meier Plots</a></li>
<li><a href="http://www.sascommunity.org/wiki/Kaplan-Meier_Survival_Plotting_Macro_%25NEWSURV">Kaplan-Meier Survival Plotting Macro %NEWSURV</a></li>
<li><a href="https://www.lexjansen.com/pharmasug/2018/EP/PharmaSUG-2018-EP02.pdf">Application of Survival Analysis in Multiple Events Using SAS</a></li>
</ul>
</div>
<p>In many cancer studies, the main outcome under assessment is the time to an event of interest. The generic name for the time is
<em>survival time</em>, although it may be applied to the time ‘survived’ from complete remission to relapse or progression as equally as to
the time from diagnosis to death. If the <strong>event occurred in all individuals, many methods of analysis would be applicable</strong>. However,
it is usual that at the end of follow-up some of the individuals <strong>have not had the event of interest</strong>, and thus their true time to event is unknown. Further, survival data are <strong>rarely Normally distributed</strong>, but are skewed and comprise typically of many early events and relatively few late ones. It is these features of the data that make the special methods called survival analysis necessary.</p>
<p><strong>Nonparametric methods</strong> (<a href="http://support.sas.com/documentation/cdl/en/statug/68162/HTML/default/viewer.htm#statug_lifetest_toc.htm"><code>PROC LIFETEST</code></a>) provide simple and quick looks at the survival experience and the <strong>Cox proportional hazards regression model</strong> (<a href="http://support.sas.com/documentation/cdl/en/statug/68162/HTML/default/viewer.htm#statug_phreg_overview.htm"><code>PROC PHREG</code></a>) remains the dominant analysis method.</p>
<h2 id="endpoints-in-clinical-trials-related-to-survival-analysis">Endpoints in Clinical Trials Related to Survival Analysis<a class="headerlink" href="#endpoints-in-clinical-trials-related-to-survival-analysis" title="Permanent link">Link</a></h2>
<div class="admonition summary">
<p class="admonition-title">Check these websites</p>
</div>
<ul>
<li><a href="https://www.biooncology.com/clinical-trials/efficacy-endpoints.html">Efficacy Endpoints in Oncology Clinical Trials</a></li>
</ul>
<h3 id="overall-survival">Overall Survival<a class="headerlink" href="#overall-survival" title="Permanent link">Link</a></h3>
<p>OS is the <strong>gold standard for demonstrating clinical benefit</strong>. Defined as the time from <strong>randomization to death</strong>, this endpoint is unambiguous and is not subject to investigator interpretation. Survival is a direct clinical benefit to patients, and assessment can be calculated to the day. Patient benefit can be described as superior survival or noninferior survival after consideration of toxicity and the magnitude of benefit. A noninferiority analysis ensures that a survival advantage associated with an approved drug will not be lost with a new agent.</p>
<p><strong>Survival analysis requires a large sample size and may require long follow-up</strong>. Survival analysis may be confounded because of subsequent therapies administered after a study drug is discontinued. OS should be evaluated in randomized, controlled trials.</p>
<h3 id="time-to-tumor-progression-and-progression-free-survival">Time to Tumor Progression and Progression-Free Survival<a class="headerlink" href="#time-to-tumor-progression-and-progression-free-survival" title="Permanent link">Link</a></h3>
<p><strong>Time to tumor progression (TTP)</strong>, is defined as the time from <strong>randomization to time of progressive disease</strong>. The <strong>progression-free survival (PFS)</strong> duration is defined as the time from <strong>randomization to objective tumor progression or death</strong>. Compared with TTP, PFS may be a preferred regulatory endpoint because it includes death and may correlate better with OS. In TTP analysis, deaths are censored either at the time of death or at an earlier visit representing informative censoring (nonrandom pattern of loss from
the study). PFS assumes patient deaths are randomly related to tumor progression. However, in situations where the majority of deaths are unrelated to cancer, TTP can be an acceptable endpoint.</p>
<p>Assessment of either PFS or TTP needs to be conducted in randomized trials. Because of the subjectivity that may be introduced in endpoint assessment, blinding of trials or the use of an external blinded review committee is recommended. In assessing TTP or PFS, patients must be evaluated on a regular basis in all treatment arms, and an assessment of all disease sites should be performed. To reduce bias, the same assessment technique should be used at each follow-up, and the same evaluation schedule should be consistently used.</p>
<h3 id="time-to-treatment-failure">Time to Treatment Failure<a class="headerlink" href="#time-to-treatment-failure" title="Permanent link">Link</a></h3>
<p><strong>Time to treatment failure (TTF)</strong> is defined as the time from <strong>randomization to treatment discontinuation for any reason</strong>, including disease progression, treatment toxicity, patient preference, or death. From a regulatory point of view, TTF is generally not accepted as a valid endpoint. TTF is a composite endpoint influenced by factors unrelated to efficacy. Discontinuation may be a result of toxicity, patient preference, or a physician's reluctance to continue therapy. These factors are not a direct assessment of the effectiveness of a drug.</p>
<h3 id="duration-of-response">Duration of Response<a class="headerlink" href="#duration-of-response" title="Permanent link">Link</a></h3>
<p><strong>Duration of response (DoR)</strong> is usually measured as the time from documentation of tumor response to disease progression or death. Patients whose first documented response assessment is disease progression will be exluded from the DoR analysis.</p>
<p>It can be assessed in single-arm trials, requires a smaller population and can be assessed earlier (compared to survival trials) and its effect is attributable directly to the drug, not the natural history of the disease. However, is not a comprehensive measure of drug activity.</p>
<h2 id="understanding-the-basis-of-survival-analysis">Understanding the Basis of Survival Analysis<a class="headerlink" href="#understanding-the-basis-of-survival-analysis" title="Permanent link">Link</a></h2>
<p>Survival data are generally described and modelled in terms of two related probabilities, namely <strong>survival</strong> and <strong>hazard</strong>. </p>
<ul>
<li>The <strong>survival</strong> probability (which is also called the survivor function) $S(t)$ is the probability that an individual survives from the time origin to a specified future time $t$. It is fundamental to a survival analysis because survival probabilities for different values of $t$ provide crucial summary information from time to event data. These values describe directly the survival experience of a study cohort.</li>
<li>The <strong>hazard</strong> is usually denoted by $h(t)$ or $l(t)$ and is the probability that an individual who is under observation at a time $t$ has an event at that time. Put another way, it represents the instantaneous event rate for an individual who has already survived to time $t$. Note that, in contrast to the survivor function, which focuses on not having an event, the hazard function focuses on the event occurring. It is of interest because it provides insight into the conditional failure rates and provides a vehicle for specifying a survival model. </li>
</ul>
<p>In summary, the hazard relates to the incident (current) event rate, while survival reflects the cumulative non-occurrence.</p>
<p>Understanding the mechanics behind survival analysis is aided by facility with the distributions used, which can be derived from the <strong>probability density function</strong> and <strong>cumulative density functions</strong> of survival times.</p>
<h3 id="the-probability-density-function">The Probability Density Function<a class="headerlink" href="#the-probability-density-function" title="Permanent link">Link</a></h3>
<p>Imagine we have a random variable, $Time$, which records survival times. The function that describes likelihood of observing $Time$ at time $t$ relative to all other survival times is known as the probability density function (<strong>pdf</strong>), or $f(t)$. Integrating the pdf over a range of survival times gives the probability of observing a survival time within that interval. For example, if the survival times were known to be exponentially distributed, then the probability of observing a survival time within the interval $\left [ a,b \right ]$ is </p>
<p>$Pr\left ( a \leq Time \leq b \right )=\int_{a}^{b}f(t)dt=\int_{a}^{b} \lambda e^{-\lambda t}dt$, </p>
<p>where $\lambda$ is the rate parameter of the exponential distribution and is equal to the reciprocal of the mean survival time.</p>
<p>Most of the time we will not know <em>a priori</em> the distribution generating our observed survival times, but we can get and idea of what it looks like using nonparametric methods in SAS with <code>PROC UNIVARIATE</code>. </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC UNIVARIATE DATA=SAS-data-set(WHERE=(censoring-variable=1));
    VAR survival-time-variable;
    HISTOGRAM survival-time-variable / KERNEL;
RUN;
</pre></div>
</td></tr></table>

<p>In the graph above we see the correspondence between pdfs and histograms. Density functions are essentially histograms comprised of bins of vanishingly small widths. Technically, because there are no times less than $0$, there should be no graph to the left $Time=0$.</p>
<h3 id="the-cumulative-distribution-function">The Cumulative Distribution Function<a class="headerlink" href="#the-cumulative-distribution-function" title="Permanent link">Link</a></h3>
<p>The cumulative distribution function (<strong>cdf</strong>), $F(t)$, describes the probability of observing $Time$ less than or equal to some time $t$, or $Pr(Time \le t)$. Above we described that integrating the pdf over some range yields the probability of observing $Time$ in that range. Thus, we define the cumulative distribution function as:</p>
<p>$F(t)=\int_{0}^{t}f(t)dt$</p>
<p>The above relationship between the cdf and pdf also implies:</p>
<p>$f(t)=\frac{dF(t)}{dt}$</p>
<p>In SAS, we can graph an estimate of the cdf using <code>PROC UNIVARIATE</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC UNIVARIATE DATA=SAS-data-set(WHERE=(censoring-variable=1));
    VAR survival-time-variable;
    CDFPLOT survival-time-variable;
RUN;
</pre></div>
</td></tr></table>

<p>In the graph produced with the code above we can check the probability of surviving a number of days. In intervals where event times are more probable, the cdf will increase faster.</p>
<h3 id="the-survival-function">The Survival Function<a class="headerlink" href="#the-survival-function" title="Permanent link">Link</a></h3>
<p>A simple transformation of the cumulative distribution function produces the survival function, $S(t)$:</p>
<p>$S(t) = 1 - F(T)$.</p>
<p>The survivor function, $S(t)$, describes the probability of surviving past time $t$, or $Pr(Time &gt; t)$. If we were to plot the estimate of $S(t)$, we would see that it is a reflection of $F(t)$ (about $y=0$ and shifted up by $1$). We can use <code>PROC LIFETEST</code> to graph $S(t)$.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC LIFETEST DATA=SAS-data-set(WHERE=(censoring-variable=1)) PLOTS=SURVIVAL(ATRISK);
    TIME survival-time-variable*censoring-variable(0);
RUN; 
</pre></div>
</td></tr></table>

<p>The probability of surviving beyond a number of days according to this survival plot can be confirmed by the cdf produced above, where the probability of surviving a number of days or fewer is equivalent.</p>
<h3 id="the-hazard-function">The Hazard Function<a class="headerlink" href="#the-hazard-function" title="Permanent link">Link</a></h3>
<p>The primary focus of survival analysis is typically to <strong>model the hazard rate</strong>, which has the following relationship with the $f(t)$ and $S(t)$:</p>
<p>$h(t)=\frac{f(t)}{S(t)}$</p>
<p>The hazard function, then, describes the relative likelihood of the event occurring at time $t(f(t))$, conditional on the subject’s survival up to that time $t(S(t))$. The hazard rate thus describes the instantaneous rate of failure at time $t$ and ignores the accumulation of hazard up to time $t$ (unlike $F(t)$ and $S(t)$). We can estimate the hazard function is SAS as well using <code>PROC LIFETEST</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC LIFETEST DATA=SAS-data-set(WHERE=(censoring-variable=1)) PLOTS=HAZARD(BW=200); /* BW = Bandwidth*/
    TIME survival-time-variable*censoring-variable(0);
RUN; 
</pre></div>
</td></tr></table>

<p>The plot shows the Estimated Hazard Rate which is the expected number of failures per time unit (per day in our example).</p>
<h3 id="the-cumulative-hazard-function">The Cumulative Hazard Function<a class="headerlink" href="#the-cumulative-hazard-function" title="Permanent link">Link</a></h3>
<p>Also useful to understand is the cumulative hazard function, which as the name implies, cumulates hazards over time. It is calculated by integrating the hazard function over an interval of time:</p>
<p>$H(t)=\int_{0}^{t}h(u)du$</p>
<p>Let us again think of the hazard function, $h(t)$, as the rate at which failures occur at time $t$. Let us further suppose, for illustrative purposes, that the hazard rate stays constant at $\frac{x}{t}$ ($x$ number of failures per unit time $t$) over the interval $[0,t]$. Summing over the entire interval, then, we would expect to observe $x$ failures, as $\frac{x}{t} t = x$, (assuming repeated failures are possible, such that failing does not remove one from observation). One interpretation of the cumulative hazard function is thus the expected number of failures over time interval $[0,t]$. It is not at all necessary that the hazard function stay constant for the above interpretation of the cumulative hazard function to hold, but for illustrative purposes it is easier to calculate the expected number of failures since integration is not needed. Expressing the above relationship as $\frac{d}{dt}H(t)=h(t)$, we see that the hazard function describes the rate at which hazards are accumulated over time.</p>
<p>Using the equations, $h(t)=\frac{f(t)}{S(t)}$ and $f(t)=−\frac{dS}{dt}$, we can derive the following relationships between the cumulative hazard function and the other survival functions:</p>
<p>$S(t)=exp(-H(t))$</p>
<p>$F(t)=1-exp(-H(t))$</p>
<p>$f(t)=h(t) \cdot exp(-H(t))$</p>
<p>From these equations we can see that the cumulative hazard function $H(t)$ and the survival function $S(t)$ have a simple monotonic relationship, such that when the Survival function is at its maximum at the beginning of analysis time, the cumulative hazard function is at its minimum. As time progresses, the Survival function proceeds towards it minimum, while the cumulative hazard function proceeds to its maximum. From these equations we can also see that we would expect the pdf, $f(t)$, to be high when $h(t)$ the hazard rate is high (its location depends on the study) and when the cumulative hazard $H(t)$ is low (the beginning, for all studies). In other words, we would expect to find a lot of failure times in a given time interval if </p>
<ol>
<li>the hazard rate is high and </li>
<li>there are still a lot of subjects at-risk.</li>
</ol>
<p>We can estimate the cumulative hazard function using <code>PROC LIFETEST</code>, the results of which we send to <code>PROC SGPLOT</code> for plotting. </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ODS OUTPUT ProductLimitEstimates=PLE;

PROC LIFETEST DATA=SAS-data-set whas500(WHERE=(censoring-variable=1)) NELSON OUTS=output-name;
    TIME survival-time-variable*censoring-variable(0);
RUN;

PROC SGPLOT DATA=PLE;
    SERIES x = survival-time-variable y = CumHaz;
RUN;
</pre></div>
</td></tr></table>

<h2 id="data-preparation-and-exploration">Data Preparation and Exploration<a class="headerlink" href="#data-preparation-and-exploration" title="Permanent link">Link</a></h2>
<h3 id="structure-of-the-data">Structure of the Data<a class="headerlink" href="#structure-of-the-data" title="Permanent link">Link</a></h3>
<p>To work with <code>PROC LIFETEST</code> and <code>PROC PHREG</code> for survival analysis, data can be structured in one of these 2 ways:</p>
<ol>
<li><strong>One row of data per subject</strong>, with one outcome variable representing the time to event, one variable that codes for whether the event occurred or not (censored), and explanatory variables of interest, each with fixed values across follow up time. Both <code>PROC LIFETEST</code> and <code>PROC PHREG</code> will accept data structured this way.</li>
<li><strong>Multiple rows of data per subject</strong> (only accepted by <code>PROC PHREG</code>) following the "counting process" style of input. For each subject, the whole follow up period is partitioned into intervals, each defined by a "start" and "stop" time. Covariates are permitted to change value between intervals. Additionally, another variable counts the number of events occurring in each interval (either 0 or 1 in Cox regression, same as the censoring variable). This structuring allows the modeling of time-varying covariates, or explanatory variables whose values change across follow-up time. </li>
</ol>
<p>Data that are structured in the first, single-row way can be modified to be structured like the second, multi-row way, but the reverse is typically not true.</p>
<h3 id="data-exploration-with-proc-univariate-and-proc-corr">Data Exploration with <code>PROC UNIVARIATE</code> and <code>PROC CORR</code><a class="headerlink" href="#data-exploration-with-proc-univariate-and-proc-corr" title="Permanent link">Link</a></h3>
<p>Any serious endeavor into data analysis should begin with data exploration, in which the researcher becomes familiar with the distributions and typical values of each variable individually, as well as relationships between pairs or sets of variables. Within SAS, <a href=""><code>PROC UNIVARIATE</code></a> provides easy, quick looks into the distributions of each variable, whereas <a href=""><code>PROC CORR</code></a> can be used to examine bivariate relationships.</p>
<h2 id="nonparametric-methods-proc-lifetest">Nonparametric Methods (<a href="http://support.sas.com/documentation/cdl/en/statug/68162/HTML/default/viewer.htm#statug_lifetest_toc.htm"><code>PROC LIFETEST</code></a>)<a class="headerlink" href="#nonparametric-methods-proc-lifetest" title="Permanent link">Link</a></h2>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>oms = (lastcontact - starttreatment + 1) / 30.45
if exdate = . then censor = 1;
else censor = 0;

PROC LIFETEST DATA=SAS-data-set plots=(s);
  TIME osm * censor(1);   
    STRATA alg              /* aleatorization group, (= . they didn&#39;t get to randomization) */
RUN;
</pre></div>
</td></tr></table>

<ul>
<li>In the <code>TIME</code> statement, only patients that haven't been censored are analysed </li>
<li>The <code>STRATA</code> statement includes only non-missing data points (no <code>WHERE</code> filtering is needed) </li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are performing a survival analysis which only applies to part of your population but you need the probabilities to be referred to the total population just define the excluded subpopulation as having event at time = 0. This way your plot will not start at 1/0. This applies, for example, to <strong>locoregional control time</strong> plots on which patients without complete response are excluded (event at time = 0) and </p>
</div>
<h3 id="p-value-calculation">P-value Calculation<a class="headerlink" href="#p-value-calculation" title="Permanent link">Link</a></h3>
<p>We select only 2 groups from the test data set (High and Low risk):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA bmt_small;
    SET SASHELP.bmt;
    WHERE group IN (2, 3);
RUN;
</pre></div>
</td></tr></table>

<p>We generate the <code>OUTSURV</code> data set:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC LIFETEST DATA=bmt_small PLOTS=SURVIVAL(CL CB=HW STRATA=PANEL) METHOD=LT INTERVALS=(0 to 800 by 100) OUTSURV=bmt_param STDERR;
   TIME t * status(0);
   STRATA group / ORDER=INTERNAL; 
run;
</pre></div>
</td></tr></table>

<p>We calculate the p-values from this data:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>PROC SQL;
    SELECT t, range(survival) AS RangeSurvival, sqrt(sum(sdf_stderr**2)) AS Squares, range(survival)/sqrt(sum(sdf_stderr**2)) AS z,
           probnorm(abs(range(survival)/sqrt(sum(sdf_stderr**2)))) AS pz, 2 * (1-probnorm(abs(range(survival)/sqrt(sum(sdf_stderr**2))))) AS pvalue
    FROM btm_param 
    WHERE t &gt; 0
    GROUP BY t;
QUIT;
</pre></div>
</td></tr></table>

<p>Other method:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>DATA bmt600 ;
  brazo=&#39;A&#39;; valor=1; contador=32; OUTPUT;
  brazo=&#39;A&#39;; valor=2; contador=13; OUTPUT;
  brazo=&#39;B&#39;; valor=1; contador=18; OUTPUT;
  brazo=&#39;B&#39;; valor=2; contador=36; OUTPUT;
RUN;

PROC FREQ DATA=bmt600;
    TABLES brazo*valor / CHISQ MEASURES RISKDIFF PLOTS=(FREQPLOT(TWOWAY=GROUPVERTICAL SCALE=PERCENT));
    WEIGHT contador;
RUN;
</pre></div>
</td></tr></table>

<h2 id="estimating-the-survival-curve-using-the-kaplanmeier-method">Estimating the survival curve using the Kaplan–Meier method<a class="headerlink" href="#estimating-the-survival-curve-using-the-kaplanmeier-method" title="Permanent link">Link</a></h2>
<p>As it's been said, in analyzing survival data, two functions that are dependent on time are of particular interest: the survival function and the hazard function. The survival function $S(t)$ is defined as the probability of surviving at least to time $t$. The hazard function $h(t)$ is the conditional probability of dying at time $t$ having survived to that time.</p>
<p>The graph of $S(t)$ against t is called the survival curve. The Kaplan–Meier method can be used to estimate this curve from the observed survival times without the assumption of an underlying probability distribution. The method is based on the basic idea that the probability of surviving $k$ or more periods from entering the study is a product of the $k$ observed survival rates for each period (i.e. the cumulative proportion surviving), given by the following:</p>
<p>$S(k)=p_1 \times p_2 \times p_3 \times ... \times p_k$</p>
<h2 id="comparing-survival-curves-of-two-groups-using-the-log-rank-test">Comparing survival curves of two groups using the log rank test<a class="headerlink" href="#comparing-survival-curves-of-two-groups-using-the-log-rank-test" title="Permanent link">Link</a></h2>
<p>Comparison of two survival curves can be done using a statistical hypothesis test called the log rank test. It is used to test the null hypothesis that <strong>there is no difference between the population survival curves</strong>.</p>
<p>The test statistic is compared with a $\chi^2$ distribution with 1 degree of freedom.</p>
<p>An assumption for the log rank test is that of proportional hazards. <strong>Small departures from this assumption, however, do not invalidate the test</strong>.</p>
<h2 id="coxs-proportional-hazards-regression-model-proc-phreg">Cox's Proportional Hazards Regression Model (<a href="http://support.sas.com/documentation/cdl/en/statug/68162/HTML/default/viewer.htm#statug_phreg_overview.htm"><code>PROC PHREG</code></a>)<a class="headerlink" href="#coxs-proportional-hazards-regression-model-proc-phreg" title="Permanent link">Link</a></h2>
<p>The log rank test is used to test whether there is a difference between the survival times of different groups but it does not allow other explanatory variables to be taken into account.</p>
<p>Cox's proportional hazards model is analogous to a <strong>multiple regression model</strong> and enables the <strong>difference between survival times of particular groups of patients to be tested while allowing for other factors</strong>. In this model, the response (dependent) variable is the 'hazard'. The hazard is the probability of dying (or experiencing the event in question) given that patients have survived up to a given point in time, or the risk for death at that moment.</p>
<p>In Cox's model no assumption is made about the probability distribution of the hazard. However, it is <strong>assumed that the hazard ratio does not depend on time</strong>.</p>
<h2 id="censoring">Censoring<a class="headerlink" href="#censoring" title="Permanent link">Link</a></h2>
<ul>
<li><strong>Right-censoring</strong>: for some subjects we do not know when they died after the issue, but we do know at least how many days they survived.</li>
</ul>
<h3 id="informative-censoring">Informative Censoring<a class="headerlink" href="#informative-censoring" title="Permanent link">Link</a></h3>
<div class="admonition summary">
<p class="admonition-title">Check these papers</p>
<ul>
<li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3275994/">Censoring in survival analysis: Potential for bias</a></li>
<li><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4162501/">Impact of Informative Censoring on the Kaplan-Meier Estimate of Progression-Free Survival in Phase II Clinical Trials</a></li>
</ul>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../sequence-design/" title="Sequence Design" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Sequence Design
              </span>
            </div>
          </a>
        
        
          <a href="../HR_vs_OR_vs_RR/" title="Odds Ratio, Hazard Ratio and Relative Risk" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Odds Ratio, Hazard Ratio and Relative Risk
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.9e1f3b71.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../../js/mathjaxhelper.js"></script>
      
    
    
      
    
  </body>
</html>