



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Learning How to Program in SAS">
      
      
      
        <meta name="author" content="Lucía Rodrigo Insausti">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Manipulating Data - SAS Manual</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#using-sas-functions" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="SAS Manual" aria-label="SAS Manual" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SAS Manual
            </span>
            <span class="md-header-nav__topic">
              
                Manipulating Data
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="SAS Manual" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    SAS Manual
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Gettin' Started!" class="md-nav__link">
      Gettin' Started!
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      The Essentials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        The Essentials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../accessing/" title="Accessing Data" class="md-nav__link">
      Accessing Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reporting/" title="Producing Detailed Reports" class="md-nav__link">
      Producing Detailed Reports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../formatting/" title="Formatting Data Values" class="md-nav__link">
      Formatting Data Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reading-sas/" title="Reading SAS Data Sets" class="md-nav__link">
      Reading SAS Data Sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reading-spreadsheets/" title="Reading Spreadsheet and Database Data" class="md-nav__link">
      Reading Spreadsheet and Database Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reading-raw/" title="Reading Raw Data Files" class="md-nav__link">
      Reading Raw Data Files
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Manipulating Data
      </label>
    
    <a href="./" title="Manipulating Data" class="md-nav__link md-nav__link--active">
      Manipulating Data
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-sas-functions" class="md-nav__link">
    Using SAS Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#catx-concatenation-function" class="md-nav__link">
    CATX Concatenation Function
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-for-required-values" class="md-nav__link">
    Search for Required Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-function" class="md-nav__link">
    DATE Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intck-time-interval-function" class="md-nav__link">
    INTCK Time Interval Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-summation-function" class="md-nav__link">
    SUM Summation Function
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-processing" class="md-nav__link">
    Conditional Processing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-then-else-conditional-structures" class="md-nav__link">
    IF-THEN-ELSE Conditional Structures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executing-multiple-statements" class="md-nav__link">
    Executing Multiple Statements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-group" class="md-nav__link">
    SELECT Group
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avoiding-duplicates" class="md-nav__link">
    Avoiding Duplicates
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../combination/" title="Combining SAS Data Sets" class="md-nav__link">
      Combining SAS Data Sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../summary/" title="Creating Summary Reports" class="md-nav__link">
      Creating Summary Reports
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Basic Statistics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Basic Statistics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/anova/" title="Analysis of Variance (ANOVA)" class="md-nav__link">
      Analysis of Variance (ANOVA)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/regression/" title="Regression" class="md-nav__link">
      Regression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/inference/" title="Model Post-Fitting for Inference" class="md-nav__link">
      Model Post-Fitting for Inference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/categorical-data/" title="Categorical Data Analysis" class="md-nav__link">
      Categorical Data Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/prediction/" title="Model Building and Scoring for Prediction" class="md-nav__link">
      Model Building and Scoring for Prediction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../statistics/miscellanea/" title="Miscellanea" class="md-nav__link">
      Miscellanea
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Using Macros
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Using Macros
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/introducing-macrovar/" title="Introducing Macro Variables" class="md-nav__link">
      Introducing Macro Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/using-macrofunc/" title="Using Macro Functions" class="md-nav__link">
      Using Macro Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macrovar-at-execution-time/" title="Creating Macro Variables at Execution Time" class="md-nav__link">
      Creating Macro Variables at Execution Time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macroprog/" title="Creating and Using Macro Programs" class="md-nav__link">
      Creating and Using Macro Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macroprog-processing/" title="Using Conditional and Iterative Processing in Macro Programs" class="md-nav__link">
      Using Conditional and Iterative Processing in Macro Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/debugging-options/" title="Debugging Options" class="md-nav__link">
      Debugging Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/more-macro/" title="More on Macro Programming" class="md-nav__link">
      More on Macro Programming
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      SQL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        SQL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/getting-started/" title="Getting Started with the SQL Procedure" class="md-nav__link">
      Getting Started with the SQL Procedure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/efficiencies/" title="Measuring Efficiencies" class="md-nav__link">
      Measuring Efficiencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/displaying-results/" title="Displaying Query Results" class="md-nav__link">
      Displaying Query Results
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/joins/" title="Working with SQL Joins" class="md-nav__link">
      Working with SQL Joins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/nested-queries/" title="Working with Nested Queries" class="md-nav__link">
      Working with Nested Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/set-operators/" title="Working with Set Operators" class="md-nav__link">
      Working with Set Operators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/tables-views/" title="Creating Tables and Views" class="md-nav__link">
      Creating Tables and Views
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/advanced/" title="Using Advanced PROC SQL Features" class="md-nav__link">
      Using Advanced PROC SQL Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/miscellanea/" title="Miscellanea" class="md-nav__link">
      Miscellanea
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Other Analysis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Other Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/model-selection/" title="Model Selection" class="md-nav__link">
      Model Selection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/missing-data/" title="Dealing with Missing Data" class="md-nav__link">
      Dealing with Missing Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/interim-analysis/" title="Interim Analysis Design" class="md-nav__link">
      Interim Analysis Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/normality-tests/" title="Normality Tests" class="md-nav__link">
      Normality Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/post-hoc-tests/" title="Post-hoc Tests" class="md-nav__link">
      Post-hoc Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/effect-size/" title="Effect Size" class="md-nav__link">
      Effect Size
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/propensity-score/" title="Propensity Score" class="md-nav__link">
      Propensity Score
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/roc-curve/" title="ROC Curve" class="md-nav__link">
      ROC Curve
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/questionnaires/" title="Questionnaires analysis" class="md-nav__link">
      Questionnaires analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/sequence-design/" title="Sequence Design" class="md-nav__link">
      Sequence Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/survival-analysis/" title="Survival Analysis" class="md-nav__link">
      Survival Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/HR_vs_OR_vs_RR/" title="Odds Ratio, Hazard Ratio and Relative Risk" class="md-nav__link">
      Odds Ratio, Hazard Ratio and Relative Risk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/clustering/" title="Clustering" class="md-nav__link">
      Clustering
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Specific Procedures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Specific Procedures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/regression-models/" title="General Notes on Regression Procedures" class="md-nav__link">
      General Notes on Regression Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/glimmix/" title="PROC GLIMMIX" class="md-nav__link">
      PROC GLIMMIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/mixed/" title="PROC MIXED" class="md-nav__link">
      PROC MIXED
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      SAS Outputs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        SAS Outputs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/ods/" title="Output Delivery System" class="md-nav__link">
      Output Delivery System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/graphs/" title="Graphs and Plots" class="md-nav__link">
      Graphs and Plots
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/print/" title="PROC PRINT" class="md-nav__link">
      PROC PRINT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/report/" title="PROC REPORT" class="md-nav__link">
      PROC REPORT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/tabulate/" title="PROC TABULATE" class="md-nav__link">
      PROC TABULATE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/template/" title="PROC TEMPLATE" class="md-nav__link">
      PROC TEMPLATE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/pdf/" title="Write to pdf file" class="md-nav__link">
      Write to pdf file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/excel/" title="Export to Excel file" class="md-nav__link">
      Export to Excel file
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      SAS vs R
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        SAS vs R
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/importing-reporting/" title="Importing and Reporting Data" class="md-nav__link">
      Importing and Reporting Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/variables-functions/" title="Creating New Variables, Functions and Data Tables" class="md-nav__link">
      Creating New Variables, Functions and Data Tables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/random-plotting/" title="Random Number Generation and Plotting" class="md-nav__link">
      Random Number Generation and Plotting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/proc-ods-macros/" title="Descriptive Procedures, Output Delivery System and Macros" class="md-nav__link">
      Descriptive Procedures, Output Delivery System and Macros
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/inferential/" title="Analyzing the Data via Inferential Procedures" class="md-nav__link">
      Analyzing the Data via Inferential Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/iml/" title="Interactive Matrix Language (IML)" class="md-nav__link">
      Interactive Matrix Language (IML)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/bridge/" title="A Bridge Between SAS and R" class="md-nav__link">
      A Bridge Between SAS and R
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../wizard/" title="Using Wizard Menus" class="md-nav__link">
      Using Wizard Menus
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../sasvi/" title="SAS Visual Analytics" class="md-nav__link">
      SAS Visual Analytics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      CDISC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        CDISC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CDISC/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Miscellanea
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Miscellanea
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/arrays/" title="Working with Arrays" class="md-nav__link">
      Working with Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/execution-time/" title="Execution time" class="md-nav__link">
      Execution time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/time-intervals/" title="Time intervals" class="md-nav__link">
      Time intervals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/patient-identification/" title="Patient identification" class="md-nav__link">
      Patient identification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/random-list/" title="Generating a Random List" class="md-nav__link">
      Generating a Random List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/shell/" title="Shell Scripting in SAS" class="md-nav__link">
      Shell Scripting in SAS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Medical terms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Medical terms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/general/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/labs/" title="Laboratory Test" class="md-nav__link">
      Laboratory Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/exposure/" title="Treatment Exposure" class="md-nav__link">
      Treatment Exposure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/orr-dcr/" title="ORR and DCR" class="md-nav__link">
      ORR and DCR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/recist/" title="RECIST v1.1" class="md-nav__link">
      RECIST v1.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/irecist/" title="iRECIST" class="md-nav__link">
      iRECIST
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      R with Shiny
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        R with Shiny
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/introduction/" title="Introduction and Shiny Basics" class="md-nav__link">
      Introduction and Shiny Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/input-output/" title="Inputs, Outputs, and Rendering Functions" class="md-nav__link">
      Inputs, Outputs, and Rendering Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/reactive/" title="Reactive Programming" class="md-nav__link">
      Reactive Programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/custom/" title="Customizing Appearance" class="md-nav__link">
      Customizing Appearance
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-sas-functions" class="md-nav__link">
    Using SAS Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#catx-concatenation-function" class="md-nav__link">
    CATX Concatenation Function
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-for-required-values" class="md-nav__link">
    Search for Required Values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#date-function" class="md-nav__link">
    DATE Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intck-time-interval-function" class="md-nav__link">
    INTCK Time Interval Function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-summation-function" class="md-nav__link">
    SUM Summation Function
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-processing" class="md-nav__link">
    Conditional Processing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-then-else-conditional-structures" class="md-nav__link">
    IF-THEN-ELSE Conditional Structures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executing-multiple-statements" class="md-nav__link">
    Executing Multiple Statements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-group" class="md-nav__link">
    SELECT Group
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#avoiding-duplicates" class="md-nav__link">
    Avoiding Duplicates
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Manipulating Data</h1>
                
                <p><a href="https://support.sas.com/edu/OLTRN/ECPRG193/m421/m421_5_a_sum.htm">Chapter summary in SAS</a></p>
<h2 id="using-sas-functions">Using SAS Functions<a class="headerlink" href="#using-sas-functions" title="Permanent link">Link</a></h2>
<h3 id="catx-concatenation-function"><code>CATX</code> Concatenation Function<a class="headerlink" href="#catx-concatenation-function" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">CATX</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">First_Name</span><span class="p">,</span> <span class="n">Last_Name</span><span class="p">)</span>
<span class="n">CATX</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="k">of</span> <span class="n">array_name</span><span class="p">(</span><span class="o">*</span><span class="p">))</span>
</code></pre></div>
</td></tr></table>

<p>The <strong>CATX</strong> function <strong>removes leading and trailing blanks</strong>, <strong>inserts delimiters</strong>, and returns a concatenated character string. In the code, you first specify a character string that is used as a delimiter between concatenated items.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Similar functions are:</p>
<ul>
<li><strong><code>CAT</code></strong>: concatenates variables similar to the concatenation operator <code>||</code> </li>
<li><strong><code>CATT</code> (concatenate with <code>TRIM</code>)</strong>: similar to the <code>CAT</code> function, but it <strong>removes the trailing spaces</strong> before concatenating the variables</li>
<li><strong><code>CATS</code> (concatenate with <code>STRIP</code>)</strong>: similar to the <code>CAT</code> function, but it <strong>removes both the leading and trailing spaces</strong> before concatenating the variables</li>
<li><strong><code>CATQ</code> (concatenate with quotes)</strong>: concatenates variables by using a <strong>delimiter</strong> to separate items and by <strong>adding quotation marks to strings that contain the delimiter</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="center"><strong>Function</strong></th>
<th align="center"><strong>Equivalent Code</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">`CAT(OF X1-X4)</td>
<td align="center"><code>X1&#124;&#124;X2&#124;&#124;X3&#124;&#124;X4</code></td>
</tr>
<tr>
<td align="center"><code>CATT(OF X1-X4)</code></td>
<td align="center"><code>TRIM(X1)&#124;&#124;TRIM(X2)&#124;&#124;TRIM(X3)&#124;&#124;TRIM(X4)</code></td>
</tr>
<tr>
<td align="center"><code>CATS(OF X1-X4)</code></td>
<td align="center"><code>TRIM(LEFT(X1))&#124;&#124;TRIM(LEFT(X2))&#124;&#124;TRIM(LEFT(X3))&#124;&#124;TRIM(LEFT(X4))</code></td>
</tr>
<tr>
<td align="center"><code>CATX(SP, OF X1-X4)</code></td>
<td align="center"><code>TRIM(LEFT(X1))&#124;&#124;SP&#124;&#124;TRIM(LEFT(X2))&#124;&#124;SP&#124;&#124;TRIM(LEFT(X3))&#124;&#124;SP&#124;&#124;TRIM(LEFT(X4))</code></td>
</tr>
</tbody>
</table>
</div>
<p>Notice that, although no length IS set for the resultant concatenated variable, the longer values that came later in the step are not truncated. Where the length has not been set, the <code>CAT</code> functions will set a <strong>length of 200</strong>. This is another significant advantage over using the <code>||</code> operator.</p>
<p>Items, or arguments, can be numeric instead of character; numeric arguments are converted to character using <code>BESTw.</code> format.</p>
<h4 id="search-for-required-values">Search for Required Values<a class="headerlink" href="#search-for-required-values" title="Permanent link">Link</a></h4>
<p><strong>Searching for a single character value</strong> (at least one 'Y' answer in a ten-questions questionnaire):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nv">DATA</span> <span class="nv">yes</span><span class="c1">;</span>
    <span class="nv">SET</span> <span class="nv">answers</span><span class="c1">;</span>
    <span class="k">IF</span> <span class="nv">FIND</span><span class="ss">(</span><span class="nv">CAT</span><span class="ss">(</span><span class="nv">of</span> <span class="nv">a1</span><span class="o">-</span><span class="nv">a10</span><span class="ss">)</span>,<span class="s1">&#39;</span><span class="s">Y</span><span class="s1">&#39;</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">RUN</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>

<p><strong>Searching for multiple character values</strong> (at least two 'Y' answer in a ten-questions questionnaire):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nv">DATA</span> <span class="nv">yes</span><span class="c1">;</span>
    <span class="nv">SET</span> <span class="nv">answers</span><span class="c1">;</span>
    <span class="k">IF</span> <span class="nv">COUNTC</span><span class="ss">(</span><span class="nv">CAT</span><span class="ss">(</span><span class="nv">OF</span> <span class="nv">a1</span><span class="o">-</span><span class="nv">a10</span><span class="ss">)</span>,<span class="s1">&#39;</span><span class="s">Y</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="nv">GE</span> <span class="mi">2</span><span class="c1">;</span>
<span class="nv">RUN</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>

<p><strong>Searching for numeric values</strong> (at least one question answered with the value 5 in a ten-questions questionnaire):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nv">DATA</span> <span class="nv">yes</span><span class="c1">;</span>
    <span class="nv">SET</span> <span class="nv">answers</span><span class="c1">;</span>
    <span class="k">IF</span> <span class="nv">FIND</span><span class="ss">(</span><span class="nv">CAT</span><span class="ss">(</span><span class="nv">OF</span> <span class="nv">a</span>:<span class="ss">)</span>,<span class="s1">&#39;</span><span class="s">5</span><span class="s1">&#39;</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">RUN</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>

<p><strong>Searching for a single numeric pattern</strong> (variable whose value starts with '250'):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nv">DATA</span> <span class="nv">diagnostic</span><span class="o">-</span><span class="nv">results</span><span class="c1">;</span>
    <span class="nv">SET</span> <span class="nv">diagnostic</span><span class="o">-</span><span class="nv">tests</span><span class="c1">;</span>
    <span class="k">IF</span> <span class="nv">FIND</span><span class="ss">(</span><span class="nv">CATX</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">*</span><span class="s1">&#39;</span>, <span class="nv">OF</span> <span class="nv">diag1</span><span class="o">-</span><span class="nv">diag5</span><span class="ss">)</span>,<span class="s1">&#39;</span><span class="s">250</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="nv">ne</span> <span class="mi">0</span><span class="c1">;</span>
<span class="nv">RUN</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>

<p><strong>Searching for multiple numeric patterns</strong> (variable whose value starts with '250' or '493'):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">DATA</span> <span class="n">diagnostic</span><span class="o">-</span><span class="n">results</span><span class="p">;</span>
    <span class="k">LENGTH</span> <span class="n">string</span> <span class="err">$</span><span class="mi">100</span><span class="p">;</span>
    <span class="k">SET</span> <span class="n">diagnostic</span><span class="o">-</span><span class="n">tests</span><span class="p">;</span>
    <span class="n">string</span> <span class="o">=</span> <span class="n">CATX</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="k">OF</span> <span class="n">diag1</span><span class="o">-</span><span class="n">diag5</span><span class="p">);</span>
    <span class="n">diabetes</span> <span class="o">=</span> <span class="p">(</span><span class="n">FIND</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="s1">&#39;250&#39;</span><span class="p">)</span> <span class="n">ne</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">asthma</span> <span class="o">=</span> <span class="p">(</span><span class="n">FIND</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="s1">&#39;493&#39;</span><span class="p">)</span> <span class="n">ne</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">DROP</span> <span class="n">string</span><span class="p">;</span>
<span class="n">RUN</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

<p><strong>Search for characters in numeric variables</strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nv">DATA</span> <span class="nv">final</span><span class="o">-</span><span class="nv">SAS</span><span class="o">-</span><span class="nv">data</span><span class="o">-</span><span class="nv">set</span><span class="c1">;</span>
    <span class="nv">SET</span> <span class="nv">origin</span><span class="o">-</span><span class="nv">SAS</span><span class="o">-</span><span class="nv">data</span><span class="o">-</span><span class="nv">set</span><span class="c1">;</span>
    <span class="nv">ARRAY</span> <span class="nv">arrayname</span><span class="ss">(</span><span class="mi">3</span><span class="ss">)</span> <span class="nv">item1</span><span class="o">-</span><span class="nv">item3</span><span class="c1">;</span>
    <span class="k">DO</span> <span class="nv">_N_</span> <span class="o">=</span> <span class="mi">1</span> <span class="nv">TO</span> <span class="mi">3</span> <span class="k">UNTIL</span> <span class="ss">(</span><span class="nv">search</span> <span class="nv">eq</span> <span class="mi">1</span><span class="ss">)</span><span class="c1">;</span>
        <span class="nv">search</span> <span class="o">=</span> <span class="ss">(</span><span class="nv">CAT</span><span class="ss">(</span><span class="nv">arrayname</span><span class="ss">(</span><span class="nv">_N_</span><span class="ss">))</span> <span class="nv">IN</span> : <span class="ss">(</span><span class="s1">&#39;</span><span class="s">171</span><span class="s1">&#39;</span> <span class="s1">&#39;</span><span class="s">172</span><span class="s1">&#39;</span><span class="ss">))</span><span class="c1">;</span>
    <span class="k">END</span><span class="c1">;</span>
<span class="nv">RUN</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>

<h3 id="date-function"><code>DATE</code> Function<a class="headerlink" href="#date-function" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">YEAR</span><span class="p">(</span><span class="n">SAS</span><span class="o">-</span><span class="nb">date</span><span class="p">)</span>     
<span class="n">QTR</span><span class="p">(</span><span class="n">SAS</span><span class="o">-</span><span class="nb">date</span><span class="p">)</span>
<span class="k">MONTH</span><span class="p">(</span><span class="n">SAS</span><span class="o">-</span><span class="nb">date</span><span class="p">)</span>
<span class="k">DAY</span><span class="p">(</span><span class="n">SAS</span><span class="o">-</span><span class="nb">date</span><span class="p">)</span>
<span class="n">WEEKDAY</span><span class="p">(</span><span class="n">SAS</span><span class="o">-</span><span class="nb">date</span><span class="p">)</span>
<span class="n">TODAY</span><span class="p">()</span>                <span class="cm">/* Obtain the current date and convert to SAS-date (no argument) */</span>
<span class="nb">DATE</span><span class="p">()</span>                 <span class="cm">/* Obtain the current date and convert to SAS-date (no argument) */</span>
<span class="n">MDY</span><span class="p">(</span><span class="k">month</span><span class="p">,</span> <span class="k">day</span><span class="p">,</span> <span class="k">year</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>

<ul>
<li>The arguments must be numeric values (except from <code>TODAY()</code> and <code>DATE()</code> functions)</li>
<li>You can subtract dates: <code>Agein2012=(Bday2012-Birth_Date)/365.25;</code></li>
</ul>
<h3 id="intck-time-interval-function"><code>INTCK</code> Time Interval Function<a class="headerlink" href="#intck-time-interval-function" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">INTCK</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">Hire_Date</span><span class="p">,</span> <span class="s1">&#39;01JAN2012&#39;</span><span class="n">d</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>

<p>The <code>INTCK</code> function returns the number of interval boundaries of a given kind that lie between the two dates, times, or datetime values. In the code, you first specify the interval value.</p>
<div class="admonition warning">
<p class="admonition-title">What happens when you define a new variable from another that you are gonna <code>DROP</code> in this DATA statement?</p>
<p>The <code>DROP</code> statement is a compile-time-only statement. SAS sets a drop flag for the dropped variables, but the variables are in the PDV and, therefore, are available for processing.</p>
</div>
<h3 id="sum-summation-function"><code>SUM</code> Summation Function<a class="headerlink" href="#sum-summation-function" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">SUM</span><span class="p">(</span><span class="n">argument1</span><span class="p">,</span> <span class="n">argument2</span><span class="p">,</span> <span class="p">...)</span>
</code></pre></div>
</td></tr></table>

<ul>
<li>The arguments must be numeric values</li>
<li>The <code>SUM</code> function ignores missing values, so if an argument has a missing value, the result of the <code>SUM</code> function is the sum of the nonmissing values</li>
<li>If you add two values by <code>+</code>, if one of them is missing, the result will be a missing value, which makes the <code>SUM</code> function a better choice</li>
</ul>
<h2 id="conditional-processing">Conditional Processing<a class="headerlink" href="#conditional-processing" title="Permanent link">Link</a></h2>
<h3 id="if-then-else-conditional-structures"><code>IF-THEN-ELSE</code> Conditional Structures<a class="headerlink" href="#if-then-else-conditional-structures" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">IF</span> <span class="nv">expression</span> <span class="k">THEN</span> <span class="nv">statement</span><span class="c1">;</span>
<span class="k">ELSE</span> <span class="k">IF</span> <span class="nv">expression</span> <span class="k">THEN</span> <span class="nv">statement</span><span class="c1">;</span>
<span class="k">ELSE</span> <span class="nv">statement</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>

<p>In the conditional expressions involving strings watch out for possible mixed case values where the condition may not be met:  <code>country = UPCASE(country);</code> to avoid problems</p>
<div class="admonition warning">
<p class="admonition-title">What do you mean 0.73 doesn't equal 0.73?</p>
<p>When comparing numeric values, you may get unexpected results when the values of your variables seem to be the same (but actually they are not). The key to making sure these issues do not introduce erroneous results lies in understanding how numeric values are actually stored in data sets and in memory. This is referred to as <strong>numeric representation and precision</strong>. Read this article for more information: <a href="https://www.pharmasug.org/proceedings/2014/CC/PharmaSUG-2014-CC50.pdf">Numeric Representation and Precision in SAS and Why it Matters</a>.
Main solutions to this problem:</p>
<ul>
<li>The <code>ROUND</code> function: <code>A = round(A, 0.01);</code></li>
<li>Character versions of numeric variables: <code>CharA = put(A, best.);</code></li>
<li>Options in procedures: <code>PROC COMPARE BASE=baseds COMPARE=compds CRITERION=0.0000001;</code></li>
</ul>
</div>
<h3 id="executing-multiple-statements">Executing Multiple Statements<a class="headerlink" href="#executing-multiple-statements" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">IF</span> <span class="nv">expression</span> <span class="k">THEN</span>
    <span class="k">DO</span><span class="c1">;</span>
        <span class="nv">executable</span> <span class="nv">statements</span><span class="c1">;</span>
    <span class="k">END</span><span class="c1">;</span>
<span class="k">ELSE</span> <span class="k">IF</span> <span class="nv">expression</span> <span class="k">THEN</span>
    <span class="k">DO</span><span class="c1">;</span>
        <span class="nv">executable</span> <span class="nv">statements</span><span class="c1">;</span>
    <span class="k">END</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>

<p>In the <code>DATA</code> step, the first reference to a variable determines its length. The first reference to a new variable can be in a <code>LENGTH</code> statement, an <strong>assignment</strong> statement, or <strong>another</strong> statement such as an <code>INPUT</code> statement. After a variable is created in the PDV, the length of the variable's first value doesn't matter. </p>
<p>To avoid truncation in a variable defined inside a conditional structure you can:</p>
<ul>
<li>Define the longer string as the first condition</li>
<li>Add some blanks at the end of shorter strings to fit the longer one</li>
<li>Define the length explicitly before any other reference to the variable</li>
</ul>
<h3 id="select-group"><code>SELECT</code> Group<a class="headerlink" href="#select-group" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nv">SELECT</span><span class="ss">(</span><span class="nv">Gender</span><span class="ss">)</span><span class="c1">;</span>
      <span class="nv">WHEN</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">F</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="k">DO</span><span class="c1">;</span>
         <span class="nv">Gift1</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">Scarf</span><span class="s1">&#39;</span><span class="c1">;</span>
         <span class="nv">Gift2</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">Pedometer</span><span class="s1">&#39;</span><span class="c1">;</span>
      <span class="k">END</span><span class="c1">;</span>
      <span class="nv">WHEN</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">M</span><span class="s1">&#39;</span><span class="ss">)</span> <span class="k">DO</span><span class="c1">;</span>
         <span class="nv">Gift1</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">Gloves</span><span class="s1">&#39;</span><span class="c1">;</span>
         <span class="nv">Gift2</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">Money Clip</span><span class="s1">&#39;</span><span class="c1">;</span>
      <span class="k">END</span><span class="c1">;</span>
      <span class="nv">OTHERWISE</span> <span class="k">DO</span><span class="c1">;</span>
         <span class="nv">Gift1</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">Coffee</span><span class="s1">&#39;</span><span class="c1">;</span>
         <span class="nv">Gift2</span><span class="o">=</span><span class="s1">&#39;</span><span class="s">Calendar</span><span class="s1">&#39;</span><span class="c1">;</span>
      <span class="k">END</span><span class="c1">;</span>
<span class="k">END</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>

<ul>
<li>The <code>SELECT</code> statement executes one of several statements or groups of statements</li>
<li>The <code>SELECT</code> statement begins a <code>SELECT</code> group. They contain <code>WHEN</code> statements that identify SAS statements that are executed when a particular condition is true</li>
<li>Use at least one <code>WHEN</code> statement in a <code>SELECT</code> group</li>
<li>An optional <code>OTHERWISE</code> statement specifies a statement to be executed if no <code>WHEN</code> condition is met</li>
<li>An <code>END</code> statement ends a <code>SELECT</code> group</li>
</ul>
<h2 id="avoiding-duplicates">Avoiding Duplicates<a class="headerlink" href="#avoiding-duplicates" title="Permanent link">Link</a></h2>
<p>The dataset <code>period</code> has more than one register per patient and the calculation of time periods between each one and the reference.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">PROC</span> <span class="n">SORT</span> <span class="k">DATA</span><span class="o">=</span><span class="n">period</span><span class="p">;</span>
    <span class="k">BY</span> <span class="n">pt</span> <span class="n">periodmax</span> <span class="n">periodvisit</span><span class="p">;</span>
<span class="n">RUN</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

<p>If you want to keep only highest/lowest value (last/first value after the sorting), you need to use the <code>last.</code>/<code>.first</code> functions.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="nv">DATA</span> <span class="nv">maxperiod</span><span class="c1">;</span>
    <span class="nv">SET</span> <span class="nv">period</span><span class="c1">;</span>
    <span class="nv">BY</span> <span class="nv">pt</span><span class="c1">;</span>
    <span class="k">IF</span> <span class="nv">last</span>.<span class="nv">pt</span><span class="c1">;</span>
<span class="nv">RUN</span><span class="c1">;</span>
</code></pre></div>
</td></tr></table>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../reading-raw/" title="Reading Raw Data Files" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Reading Raw Data Files
              </span>
            </div>
          </a>
        
        
          <a href="../combination/" title="Combining SAS Data Sets" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Combining SAS Data Sets
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../../js/mathjaxhelper.js"></script>
      
    
  </body>
</html>