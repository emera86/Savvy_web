



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Learning How to Program in SAS">
      
      
      
        <meta name="author" content="Lucía Rodrigo Insausti">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Regression - SAS Manual</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#exploratory-data-analysis" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="SAS Manual" aria-label="SAS Manual" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SAS Manual
            </span>
            <span class="md-header-nav__topic">
              
                Regression
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="SAS Manual" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    SAS Manual
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Gettin' Started!" class="md-nav__link">
      Gettin' Started!
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      The Essentials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        The Essentials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/accessing/" title="Accessing Data" class="md-nav__link">
      Accessing Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/reporting/" title="Producing Detailed Reports" class="md-nav__link">
      Producing Detailed Reports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/formatting/" title="Formatting Data Values" class="md-nav__link">
      Formatting Data Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/reading-sas/" title="Reading SAS Data Sets" class="md-nav__link">
      Reading SAS Data Sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/reading-spreadsheets/" title="Reading Spreadsheet and Database Data" class="md-nav__link">
      Reading Spreadsheet and Database Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/reading-raw/" title="Reading Raw Data Files" class="md-nav__link">
      Reading Raw Data Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/manipulation/" title="Manipulating Data" class="md-nav__link">
      Manipulating Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/combination/" title="Combining SAS Data Sets" class="md-nav__link">
      Combining SAS Data Sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essentials/summary/" title="Creating Summary Reports" class="md-nav__link">
      Creating Summary Reports
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Basic Statistics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Basic Statistics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../anova/" title="Analysis of Variance (ANOVA)" class="md-nav__link">
      Analysis of Variance (ANOVA)
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Regression
      </label>
    
    <a href="./" title="Regression" class="md-nav__link md-nav__link--active">
      Regression
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exploratory-data-analysis" class="md-nav__link">
    Exploratory Data Analysis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proc-sgcatter-scatter-plots" class="md-nav__link">
    PROC SGCATTER: Scatter Plots
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proc-corr-correlation-analysis" class="md-nav__link">
    PROC CORR: Correlation Analysis
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-linear-regression" class="md-nav__link">
    Simple Linear Regression
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proc-reg" class="md-nav__link">
    PROC REG
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-regression" class="md-nav__link">
    Multiple Regression
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-building-and-interpretation" class="md-nav__link">
    Model Building and Interpretation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#all-possible-regression-methods" class="md-nav__link">
    All-possible regression methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stepwise-selection-methods" class="md-nav__link">
    Stepwise selection methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-lasso-for-predictor-selection" class="md-nav__link">
    Using Lasso for Predictor Selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proc-glmselect" class="md-nav__link">
    PROC GLMSELECT
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#information-criterion-and-other-selection-options" class="md-nav__link">
    Information Criterion and Other Selection Options
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../inference/" title="Model Post-Fitting for Inference" class="md-nav__link">
      Model Post-Fitting for Inference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../categorical-data/" title="Categorical Data Analysis" class="md-nav__link">
      Categorical Data Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prediction/" title="Model Building and Scoring for Prediction" class="md-nav__link">
      Model Building and Scoring for Prediction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../miscellanea/" title="Miscellanea" class="md-nav__link">
      Miscellanea
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Using Macros
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Using Macros
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/introducing-macrovar/" title="Introducing Macro Variables" class="md-nav__link">
      Introducing Macro Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/using-macrofunc/" title="Using Macro Functions" class="md-nav__link">
      Using Macro Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macrovar-at-execution-time/" title="Creating Macro Variables at Execution Time" class="md-nav__link">
      Creating Macro Variables at Execution Time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macroprog/" title="Creating and Using Macro Programs" class="md-nav__link">
      Creating and Using Macro Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/macroprog-processing/" title="Using Conditional and Iterative Processing in Macro Programs" class="md-nav__link">
      Using Conditional and Iterative Processing in Macro Programs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/debugging-options/" title="Debugging Options" class="md-nav__link">
      Debugging Options
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macros/more-macro/" title="More on Macro Programming" class="md-nav__link">
      More on Macro Programming
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      SQL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        SQL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/getting-started/" title="Getting Started with the SQL Procedure" class="md-nav__link">
      Getting Started with the SQL Procedure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/efficiencies/" title="Measuring Efficiencies" class="md-nav__link">
      Measuring Efficiencies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/displaying-results/" title="Displaying Query Results" class="md-nav__link">
      Displaying Query Results
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/joins/" title="Working with SQL Joins" class="md-nav__link">
      Working with SQL Joins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/nested-queries/" title="Working with Nested Queries" class="md-nav__link">
      Working with Nested Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/set-operators/" title="Working with Set Operators" class="md-nav__link">
      Working with Set Operators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/tables-views/" title="Creating Tables and Views" class="md-nav__link">
      Creating Tables and Views
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/advanced/" title="Using Advanced PROC SQL Features" class="md-nav__link">
      Using Advanced PROC SQL Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sql/miscellanea/" title="Miscellanea" class="md-nav__link">
      Miscellanea
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Other Analysis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Other Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/model-selection/" title="Model Selection" class="md-nav__link">
      Model Selection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/missing-data/" title="Dealing with Missing Data" class="md-nav__link">
      Dealing with Missing Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/interim-analysis/" title="Interim Analysis Design" class="md-nav__link">
      Interim Analysis Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/normality-tests/" title="Normality Tests" class="md-nav__link">
      Normality Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/post-hoc-tests/" title="Post-hoc Tests" class="md-nav__link">
      Post-hoc Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/effect-size/" title="Effect Size" class="md-nav__link">
      Effect Size
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/propensity-score/" title="Propensity Score" class="md-nav__link">
      Propensity Score
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/roc-curve/" title="ROC Curve" class="md-nav__link">
      ROC Curve
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/questionnaires/" title="Questionnaires analysis" class="md-nav__link">
      Questionnaires analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/sequence-design/" title="Sequence Design" class="md-nav__link">
      Sequence Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/survival-analysis/" title="Survival Analysis" class="md-nav__link">
      Survival Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/HR_vs_OR_vs_RR/" title="Odds Ratio, Hazard Ratio and Relative Risk" class="md-nav__link">
      Odds Ratio, Hazard Ratio and Relative Risk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../other-analysis/clustering/" title="Clustering" class="md-nav__link">
      Clustering
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Specific Procedures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Specific Procedures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/regression-models/" title="General Notes on Regression Procedures" class="md-nav__link">
      General Notes on Regression Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/glimmix/" title="PROC GLIMMIX" class="md-nav__link">
      PROC GLIMMIX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../procedures/mixed/" title="PROC MIXED" class="md-nav__link">
      PROC MIXED
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      SAS Outputs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        SAS Outputs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/ods/" title="Output Delivery System" class="md-nav__link">
      Output Delivery System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/graphs/" title="Graphs and Plots" class="md-nav__link">
      Graphs and Plots
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/print/" title="PROC PRINT" class="md-nav__link">
      PROC PRINT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/report/" title="PROC REPORT" class="md-nav__link">
      PROC REPORT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/tabulate/" title="PROC TABULATE" class="md-nav__link">
      PROC TABULATE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/template/" title="PROC TEMPLATE" class="md-nav__link">
      PROC TEMPLATE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/pdf/" title="Write to pdf file" class="md-nav__link">
      Write to pdf file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sas-outputs/excel/" title="Export to Excel file" class="md-nav__link">
      Export to Excel file
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      SAS vs R
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        SAS vs R
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/importing-reporting/" title="Importing and Reporting Data" class="md-nav__link">
      Importing and Reporting Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/variables-functions/" title="Creating New Variables, Functions and Data Tables" class="md-nav__link">
      Creating New Variables, Functions and Data Tables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/random-plotting/" title="Random Number Generation and Plotting" class="md-nav__link">
      Random Number Generation and Plotting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/proc-ods-macros/" title="Descriptive Procedures, Output Delivery System and Macros" class="md-nav__link">
      Descriptive Procedures, Output Delivery System and Macros
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/inferential/" title="Analyzing the Data via Inferential Procedures" class="md-nav__link">
      Analyzing the Data via Inferential Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/iml/" title="Interactive Matrix Language (IML)" class="md-nav__link">
      Interactive Matrix Language (IML)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sasvsr/bridge/" title="A Bridge Between SAS and R" class="md-nav__link">
      A Bridge Between SAS and R
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../wizard/" title="Using Wizard Menus" class="md-nav__link">
      Using Wizard Menus
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../sasvi/" title="SAS Visual Analytics" class="md-nav__link">
      SAS Visual Analytics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      CDISC
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        CDISC
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CDISC/introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Miscellanea
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Miscellanea
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/arrays/" title="Working with Arrays" class="md-nav__link">
      Working with Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/execution-time/" title="Execution time" class="md-nav__link">
      Execution time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/time-intervals/" title="Time intervals" class="md-nav__link">
      Time intervals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/patient-identification/" title="Patient identification" class="md-nav__link">
      Patient identification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/random-list/" title="Generating a Random List" class="md-nav__link">
      Generating a Random List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../miscellanea/shell/" title="Shell Scripting in SAS" class="md-nav__link">
      Shell Scripting in SAS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Medical terms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Medical terms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/general/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/labs/" title="Laboratory Test" class="md-nav__link">
      Laboratory Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/exposure/" title="Treatment Exposure" class="md-nav__link">
      Treatment Exposure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/orr-dcr/" title="ORR and DCR" class="md-nav__link">
      ORR and DCR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/recist/" title="RECIST v1.1" class="md-nav__link">
      RECIST v1.1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../medical/irecist/" title="iRECIST" class="md-nav__link">
      iRECIST
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      R with Shiny
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        R with Shiny
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/introduction/" title="Introduction and Shiny Basics" class="md-nav__link">
      Introduction and Shiny Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/input-output/" title="Inputs, Outputs, and Rendering Functions" class="md-nav__link">
      Inputs, Outputs, and Rendering Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/reactive/" title="Reactive Programming" class="md-nav__link">
      Reactive Programming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../R-with-Shiny/custom/" title="Customizing Appearance" class="md-nav__link">
      Customizing Appearance
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exploratory-data-analysis" class="md-nav__link">
    Exploratory Data Analysis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proc-sgcatter-scatter-plots" class="md-nav__link">
    PROC SGCATTER: Scatter Plots
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proc-corr-correlation-analysis" class="md-nav__link">
    PROC CORR: Correlation Analysis
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simple-linear-regression" class="md-nav__link">
    Simple Linear Regression
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proc-reg" class="md-nav__link">
    PROC REG
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-regression" class="md-nav__link">
    Multiple Regression
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-building-and-interpretation" class="md-nav__link">
    Model Building and Interpretation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#all-possible-regression-methods" class="md-nav__link">
    All-possible regression methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stepwise-selection-methods" class="md-nav__link">
    Stepwise selection methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-lasso-for-predictor-selection" class="md-nav__link">
    Using Lasso for Predictor Selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proc-glmselect" class="md-nav__link">
    PROC GLMSELECT
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#information-criterion-and-other-selection-options" class="md-nav__link">
    Information Criterion and Other Selection Options
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Regression</h1>
                
                <p><img alt="Summary lessons 3-6" src="../../images/summary3-6.png" title="Summary lessons 3-6" /></p>
<h2 id="exploratory-data-analysis">Exploratory Data Analysis<a class="headerlink" href="#exploratory-data-analysis" title="Permanent link">Link</a></h2>
<p>A useful set of techniques for investigating your data is known as <strong>exploratory data analysis</strong>.</p>
<h3 id="proc-sgcatter-scatter-plots"><code>PROC SGCATTER</code>: Scatter Plots<a class="headerlink" href="#proc-sgcatter-scatter-plots" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">PROC</span> <span class="n">SGSCATTER</span> <span class="k">DATA</span><span class="o">=</span><span class="n">SAS</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="n">base</span><span class="p">;</span>
    <span class="n">PLOT</span> <span class="n">variableY</span><span class="o">*</span><span class="p">(</span><span class="n">variableX1</span> <span class="n">variableX2</span><span class="p">)</span> <span class="o">/</span> <span class="n">REG</span><span class="p">;</span>
<span class="n">RUN</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

<ul>
<li>If you have <strong>so many observations</strong> that the scatter plot of the whole data set is difficult to interpret, you might run <code>PROC SGSCATTER</code> on a <strong>random sample of observations</strong></li>
</ul>
<h3 id="proc-corr-correlation-analysis"><code>PROC CORR</code>: Correlation Analysis<a class="headerlink" href="#proc-corr-correlation-analysis" title="Permanent link">Link</a></h3>
<p>There are two ways of calculating correlations: the <strong>Pearson correlation coefficient</strong> (specially used for normal distributed data) and the <strong>Spearman's rank correlation coefficient</strong> (which is best fitted when your data presents outliers).</p>
<p>The Spearman correlation between two variables is equal to the Pearson correlation between the rank values of those two variables; while Pearson's correlation assesses linear relationships, Spearman's correlation assesses monotonic relationships (whether linear or not). Spearman's coefficient is appropriate for both continuous and discrete ordinal variables.</p>
<p>The closer the <strong>Pearson</strong> correlation coefficient is to +1/-1, the stronger the positive/negative linear relationship is between the two variables. The closer the correlation coefficient is to 0, the weaker the linear relationship and if it is 0 variables are uncorrelated.</p>
<ul>
<li>When you interpret the correlation, be cautious about the effect of <strong>large sample sizes</strong>: even a correlation of 0.01 can be statistically significant with a large enough sample size and you would almost always reject the hypothesis $H_0$: $\rho =0$, even if the value of your correlation is small for all practical purposes</li>
<li>Some <strong>common errors</strong> on interpreting correlations are concluding a <strong>cause-and-effect relationship</strong> between the variables misinterpreting the kind of relationship between the variables and failing to recognize the influence of outliers on the correlation<ul>
<li>The variables might be related but not causally</li>
<li>Correlation coefficients can be large because both variables are affected by other variables</li>
<li>Variables might be strongly correlated by chance</li>
</ul>
</li>
<li>Just because the correlation coefficient is close to 0 doesn't mean that no relationship exists between the two variables: they might have a <strong>non-linear relationship</strong></li>
<li>Another common error is failing to recognize the <strong>influence of outliers</strong> on the correlation<ul>
<li>If you have an outlier you should report both correlation coefficients (with and without the outlier) to report how influential the unusual data point is in your analysis</li>
</ul>
</li>
</ul>
<p>The <code>PROC CORR</code> also produces <strong>scatter plots</strong> or a <strong>scatter plot matrix</strong>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">PROC</span> <span class="n">CORR</span> <span class="k">DATA</span><span class="o">=</span><span class="n">SAS</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span> <span class="n">RANK</span><span class="o">|</span><span class="n">NOSIMPLE</span> <span class="n">PLOTS</span><span class="p">(</span><span class="k">ONLY</span><span class="p">)</span><span class="o">=</span><span class="n">MATRIX</span><span class="p">(</span><span class="n">NVAR</span><span class="o">=</span><span class="k">ALL</span> <span class="n">HISTOGRAM</span><span class="p">)</span><span class="o">|</span><span class="n">SCATTER</span><span class="p">(</span><span class="n">NVAR</span><span class="o">=</span><span class="k">ALL</span> <span class="n">ELLIPSE</span><span class="o">=</span><span class="k">NONE</span><span class="p">)</span> <span class="o">&lt;</span><span class="k">options</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="n">VAR</span> <span class="k">variable</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="n">X</span><span class="p">;</span>
    <span class="k">WITH</span> <span class="k">variable</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="n">Y</span><span class="p">;</span>
    <span class="n">ID</span> <span class="n">variable4label</span><span class="p">;</span>
<span class="n">RUN</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

<h2 id="simple-linear-regression">Simple Linear Regression<a class="headerlink" href="#simple-linear-regression" title="Permanent link">Link</a></h2>
<p>You use correlation analysis to determine the strength of the linear relationship between continuous response variables. Now you need to go a step further and <strong>define the linear relationship itself</strong>: $Y= \beta_0+\beta_1 \cdot X+\epsilon$</p>
<ul>
<li>$Y$ is the response variable </li>
<li>$X$ is the predictor variable</li>
<li>$\beta_0$ is the intercept parameter</li>
<li>$\beta_1$ is the slope parameter</li>
<li>$\epsilon$ is the error term</li>
</ul>
<p>The method of <strong>least squares</strong> produces parameter estimates $\hat \beta_0$ and $\hat \beta_1$ with certain <strong>optimum properties</strong> which make them the Best Linear Unbiased Estimators (<strong>BLUE</strong>):</p>
<ul>
<li>They are <strong>unbiased estimates</strong> of the population parameters</li>
<li>They have <strong>minimum variance</strong></li>
</ul>
<p>To find out how much better is the model that takes the predictor variable into account than a model that ignores the predictor variable, you can compare the <strong>simple linear regression model</strong> to a <strong>baseline model</strong> ($Y= \bar Y$ independent of $X$). For your comparison, you calculate the <strong>explained</strong>, <strong>unexplained</strong> and <strong>total variability</strong> in the simple linear regression model.</p>
<ul>
<li>The <strong>explained variability (SSM)</strong> is the difference between the regression line and the mean of the response variable: $\sum(\hat Y_i-\bar Y)^2$</li>
<li>The <strong>unexplained variability (SSE)</strong> is the difference between the observed values and the regression line: $\sum(Y_i-\hat Y_i)^2$</li>
<li>The <strong>total variability</strong> is the difference between the observed values and the mean of the response variable: $\sum(Y_i-\bar Y)^2$</li>
</ul>
<p>If we consider <strong>hypothesis testing</strong> for linear regression:</p>
<ul>
<li>$H_0$: the regression model does not fit the data better than the baseline model (slope $= 0$)</li>
<li>$H_a$: the regression model does fit the data better than the baseline model (slope $= \hat\beta_1 \ne 0$)</li>
</ul>
<p>These <strong>assumptions</strong> underlie the hypothesis test for the regression model and have to be met for a simple linear regression analysis to be valid (last three assumptions are the same as for ANOVA):</p>
<ul>
<li>The mean of the response variable is linearly related to the value of the predictor variable</li>
<li>The error terms are normally distributed with a mean of 0</li>
<li>The error terms have equal variances</li>
<li>The error terms are independent at each value of the predictor variable</li>
</ul>
<h3 id="proc-reg"><code>PROC REG</code><a class="headerlink" href="#proc-reg" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>PROC REG DATA=SAS-data-set <span class="nt">&lt;options&gt;</span>;
    MODEL dependent=regressor / CLM CLI <span class="nt">&lt;/options&gt;</span>;
    ID regressor;
RUN;
QUIT;
</code></pre></div>
</td></tr></table>

<p>To asses the level of precision around the mean estimates you can produce <strong>confidence intervals</strong> around the means. Confidence intervals become wider as you move away from the mean of the predictor variable. The wider the confidence interval the less precise it is. You might also want to construct <strong>prediction intervals</strong> for a single observation. A prediction interval is wider than a confidence interval because <strong>single observations have more variability than sample means</strong>.</p>
<p>For producing <strong>predicted values</strong> with <code>PROC REG</code>:</p>
<ul>
<li>Create a data set containing the values of the independent variables for which you want to make predictions</li>
<li>Concatenate the new data set with the original data set</li>
<li>Fit a simple linear regression model to the new data set and specify the <code>P</code> option in the <code>MODEL</code> statement</li>
</ul>
<p>Because the concatenated observations contain <strong>missing values</strong> for the response variable, <code>PROC REG</code> does not include these observations when fitting the regression model. However, <code>PROC REG</code> does <strong>produce predicted values</strong> for these observations.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">DATA</span> <span class="n">SAS</span><span class="o">-</span><span class="n">predictions</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span><span class="p">;</span>
    <span class="k">INPUT</span> <span class="n">dependent</span> <span class="o">@@</span><span class="p">;</span>
    <span class="n">DATALINES</span><span class="p">;</span>
<span class="p">[</span><span class="k">new</span> <span class="k">values</span> <span class="n">separated</span> <span class="k">with</span> <span class="n">blanks</span><span class="p">]</span>
<span class="p">;</span>
<span class="n">RUN</span><span class="p">;</span>

<span class="k">DATA</span> <span class="n">SAS</span><span class="o">-</span><span class="k">new</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span><span class="p">;</span>
    <span class="k">SET</span> <span class="n">SAS</span><span class="o">-</span><span class="n">predictions</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span> <span class="n">SAS</span><span class="o">-</span><span class="n">original</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span><span class="p">;</span>
<span class="n">RUN</span><span class="p">;</span>

<span class="n">PROC</span> <span class="n">REG</span> <span class="k">DATA</span><span class="o">=</span><span class="n">SAS</span><span class="o">-</span><span class="k">new</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span><span class="p">;</span>
    <span class="n">MODEL</span> <span class="n">dependent</span><span class="o">=</span><span class="n">regressor</span> <span class="o">/</span> <span class="n">P</span><span class="p">;</span>
    <span class="n">ID</span> <span class="n">regressor</span><span class="p">;</span>
<span class="n">RUN</span><span class="p">;</span>
<span class="n">QUIT</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

<p>When you use a model to predict future values of the response variable given certain values of the predictor variable, you must <strong>stay within (or near) the range of values for the predictor variable used to create the model</strong>. The relationship between the predictor variable and the response variable might be different beyond the range of the data.</p>
<p>If you have a large data set and have already fitted the regression model, you can predict values more efficiently by using <code>PROC REG</code> and <code>PROC SCORE</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">PROC</span> <span class="n">REG</span> <span class="k">DATA</span><span class="o">=</span><span class="n">SAS</span><span class="o">-</span><span class="n">original</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span> <span class="n">NOPRINT</span> <span class="n">OUTEST</span><span class="o">=</span><span class="n">SAS</span><span class="o">-</span><span class="n">estimates</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span><span class="p">;</span>
    <span class="n">MODEL</span> <span class="n">dependent</span><span class="o">=</span><span class="n">regressor</span> <span class="o">&lt;/</span><span class="k">options</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="n">ID</span> <span class="n">regressor</span><span class="p">;</span>
<span class="n">RUN</span><span class="p">;</span>
<span class="n">QUIT</span><span class="p">;</span>

<span class="n">PROC</span> <span class="n">SCORE</span> <span class="k">DATA</span><span class="o">=</span><span class="n">SAS</span><span class="o">-</span><span class="n">predictions</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span>
        <span class="n">SCORE</span><span class="o">=</span><span class="n">SAS</span><span class="o">-</span><span class="n">estimates</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span>
        <span class="k">OUT</span><span class="o">=</span><span class="n">SAS</span><span class="o">-</span><span class="n">scored</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="k">set</span>
        <span class="k">TYPE</span><span class="o">=</span><span class="n">PARMS</span>
        <span class="o">&lt;</span><span class="k">options</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="n">VAR</span> <span class="k">variable</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="n">RUN</span><span class="p">;</span>
<span class="n">QUIT</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

<h2 id="multiple-regression">Multiple Regression<a class="headerlink" href="#multiple-regression" title="Permanent link">Link</a></h2>
<p>In <strong>multiple regression</strong> you can model the relationship between the response variable and <strong>more than one predictor variable</strong>. It is a powerful tool for both <strong>analytical or explanatory analysis and for prediction</strong>.</p>
<p>$Y=\beta_0+\beta_1X_1+\beta_2X_2+...+\beta_kX_k+\epsilon$ ($k+1$ parameters)</p>
<p><strong><em>Advantages</em></strong></p>
<ul>
<li>Multiple linear regression is a more powerful tool</li>
<li>You can determine whether a relationship exists between the response variable and more than one predictor variable at the same time</li>
</ul>
<p><strong><em>Disadvantages</em></strong></p>
<ul>
<li>You need to perform a selection process to decide which model to use</li>
<li>The more predictors you have, the more complicated interpreting the model becomes</li>
</ul>
<p>If we consider <strong>hypothesis testing</strong> for linear regression:</p>
<ul>
<li>$H_0$: the regression model does not fit the data better than the baseline model $(\beta_1=\beta_2=...=\beta_k= 0)$</li>
<li>$H_a$: the regression model does fit the data better than the baseline model (at least one $\beta_i \ne 0$)</li>
</ul>
<p>These <strong>assumptions</strong> have to be met for a multiple linear regression analysis to be valid (last three assumptions are the same as for ANOVA):</p>
<ul>
<li>A linear function of the $X$s accurately models the mean of the $Y$s</li>
<li>The error terms are normally distributed with a mean of 0</li>
<li>The error terms have constant variances</li>
<li>The error terms are independent at each value of the predictor variable</li>
</ul>
<p>The <strong>regular $R^2$</strong> values never decrease when you add more terms to the model, but the <strong>adjusted $R^2$</strong> value takes into account the number of terms in the model by including a penalty for the complexity of the model. The <strong>adjusted $R^2$</strong> value increases only if new terms that you add significantly improve the model enough to warrant increasing the complexity of the model. It enables proper comparison between models with different parameter counts. When an <strong>adjusted $R^2$ increases by removing a variable</strong> from the models, it strongly implies that the removed <strong>variable was not necessary</strong>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>PROC REG DATA=SAS-data-set <span class="nt">&lt;options&gt;</span>;
    MODEL dependent=regressor1 regressor2 <span class="nt">&lt;/options&gt;</span>;
RUN;
QUIT;

PROC GLM DATA=SAS-data-set
    PLOTS(ONLY)=(CONTOURFIT);
    MODEL dependent=regressor1 regressor2;
    STORE OUT=SAS-multiple-data-set;
RUN;
QUIT;

PROC PLM RESTORE=SAS-multiple-data-set PLOTS=ALL;
    EFFECTPLOT CONTOUR (Y=regressor1 X=regressor2);
    EFFECTPLOT SLICEFIT (X=regressor2 SLICEBY=regressor1=250 to 1000 by 250);
RUN;
</code></pre></div>
</td></tr></table>

<ul>
<li>In <code>PROC GLM</code>, when you run a linear regression model with only two predictor variables, the output includes a contour fit plot by default. We specify <code>CONTOURFIT</code> to tell SAS to overlay the contour plot with a scatter plot of the observed data</li>
</ul>
<p><img alt="Contour plot" src="../../images/contour-multiple-regression.png" title="Contour plot" /></p>
<p>The plot shows <strong>predicted values</strong> of the response variable as <strong>gradations of the background color</strong> from blue, representing low values, to red, representing high values. The <strong>dots</strong>, which are similarly coloured, represent the <strong>actual data</strong>. Observations that are perfectly fit would show the same color within the circle as outside the circle. The <strong>lines on the graph</strong> help you read the actual predictions at even intervals.</p>
<ul>
<li>The <code>CONTOUR</code> option displays a contour plot of predicted values against two continuous covariates</li>
<li>The <code>SLICEFIT</code> option displys a curve of predicted values vs a continuous variable grouped by the levels of another effect</li>
</ul>
<p>Clearly the <code>PROC GLM</code> contour fit plot is <strong>more useful</strong>. However, if you do not have access to the original data set and can run <code>PROC PLM</code> only on the item store, this plot still gives you an idea of the relationship between the predictor variables and predicted values.</p>
<h2 id="model-building-and-interpretation">Model Building and Interpretation<a class="headerlink" href="#model-building-and-interpretation" title="Permanent link">Link</a></h2>
<p>The brute force approach to find a good model is to start including all the predictor variables available and rerun the model <strong>removing the least significant remaining term</strong> each time <strong>until</strong> you're left with a model where <strong>only significant terms remain</strong>. With a small number of predictor variables a manual approach isn't too difficult but with a large number of predictor variables it's very tedious. Fortunately, if you specify the model selection technique to use, SAS finds good candidate models in an automatic way.</p>
<h3 id="all-possible-regression-methods">All-possible regression methods<a class="headerlink" href="#all-possible-regression-methods" title="Permanent link">Link</a></h3>
<p>SAS computes all possible models and ranks the results. Then, to evaluate the models, you compare statistics side by side ($R^2$, adjusted $R^2$ and $C_p$ statistic).</p>
<ul>
<li>
<p><strong>Mallows' $C_p$</strong> statistic helps you detect model bias if you are underfitting/overfitting the model, it is a simple indicator of effective variable selection within a model</p>
</li>
<li>
<p>To select the best model for prediction (most accurate model for predicting future values of $Y$), you should use the <strong>Mallows' criterion</strong>:  $C_p \le p$, which is the <strong>number of parameters</strong> in the model including the intercept</p>
</li>
<li>To select the best model for parameter estimation (analytical or explanatory analysis), you should use <strong>Hocking's criterion</strong>: $C_p\le2p-p_{full}+1$</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>PROC REG DATA=SASdata-set PLOTS(ONLY)=(CP) <span class="nt">&lt;options&gt;</span>;
    <span class="nt">&lt;label:&gt;</span> MODEL dependent=regressors  / SELECTION=CP RSQUARE ADJRSQ BEST=n <span class="nt">&lt;/options&gt;</span>;
RUN;
QUIT;
</code></pre></div>
</td></tr></table>

<ul>
<li><code>BEST</code> prints an specific number of the best candidate models according to a few different statistical criteria</li>
<li><code>SELECTION</code> option is used to specify the method used to select the model (<code>CP</code>, <code>RSQUARE</code> and <code>ADJRSQ</code> to calculate with the all-possible regression model; the first statistic determines the sorting order)</li>
<li>For this all-possible regression model, we add the label <code>ALL_REG:</code></li>
<li>With <code>PLOTS=(CP)</code> we produce a plot:</li>
</ul>
<p><img alt="Mallows' Cp to select the best model" src="../../images/mallows_cp_best_model.png" title="Mallows' Cp to select the best model" /></p>
<p>Each <strong>star</strong> represents the <strong>best model</strong> for a given number of parameters. The solid <strong>blue line</strong> represents <strong>Mallows' criterion</strong> for $C_p$, so using this line helps us find a good candidate model for prediction. Because we want the <strong>smallest model possible</strong>, we start at the left side of the graph, with the fewest number of parameters moving to the right until we find the <strong>first model that falls below the solid blue line</strong>. To find models for parameter estimation we have to look for models that falls below the <strong>red solid line</strong> which represent the <strong>Hocking's criterion</strong> for $C_p$ parameter estimation. If we hover over the star, we can see which variables are included in this model.</p>
<h3 id="stepwise-selection-methods">Stepwise selection methods<a class="headerlink" href="#stepwise-selection-methods" title="Permanent link">Link</a></h3>
<p>Here you choose a selection method (<strong>stepwise</strong>, <strong>forward</strong> or <strong>backward</strong> approaches) and SAS constructs a model based on that method. When you have a <strong>large number of potential predictor variables</strong>, the stepwise regression methods might be a better option. You can use either the <strong>REG</strong> procedure or the <strong>GLMSELECT</strong> procedure to perform stepwise selection methods</p>
<ul>
<li><strong>Forward selection</strong> starts with no predictor variables in the model<ol>
<li>It selects the best one-variable model</li>
<li>It selects the best two-variable model that includes the variable from the first model (after a variable is added to the model, it stays in even if it becomes insignificant later)</li>
<li>It keeps adding variables, one at a time, until no significant terms are left to add</li>
</ol>
</li>
<li><strong>Backward selection/elimination</strong> starts with all predictor variables in the model<ol>
<li>It removes variables one at a time, starting with the most non-significant variable (after a variable is removed from the model, it cannot reenter)</li>
<li>It stops when only significant terms are left in the model</li>
</ol>
</li>
<li><strong>Stepwise selection</strong> combines aspects of both forward and backward selection<ol>
<li>It starts with no predictor variables in the model and starts adding variables, one at a time, as in forward selection</li>
<li>However, as in backward selection, stepwise selection can drop non-significant variables, one at a time</li>
<li>It stops when everything in the model is currently significant and everything not in the model is not significant</li>
</ol>
</li>
</ul>
<p>Statisticians in general agree on first using <strong>stepwise methods</strong> to identify several good candidates models and then applying your <strong>subject matter expertise</strong> to choose the best model. Because the techniques for selecting or eliminating variables differ between the three selection methods, <strong>they don't always produce the same final model</strong>. There is no one method that is best and <strong>you need to be cautious</strong> when reporting statistical quantities produced by these methods:</p>
<ul>
<li>Using automated model selections results in <strong>biases in parameter estimates</strong>, <strong>predictions</strong> and <strong>standard errors</strong></li>
<li><strong>Incorrect</strong> calculation of <strong>degrees of freedom</strong></li>
<li><strong>p-values</strong> that tend to err on the side of <strong>overestimating significance</strong></li>
</ul>
<p>How can you <strong>avoid these issues</strong>?</p>
<ul>
<li>You can hold out some of your data in order to perform an honest assessment of how well your model performs on a different sample of data (<strong>holdout/validation data</strong>) than you use to develop the model (<strong>training data</strong>)</li>
<li>Other honest assessment approaches include <strong>cross-validation</strong> (if your data set is not large enough to split) or <strong>bootstraping</strong> (a resampling method that tries to approximate the distribution of the parameter estimates to estimate the standard error and p-values)</li>
</ul>
<h3 id="using-lasso-for-predictor-selection">Using Lasso for Predictor Selection<a class="headerlink" href="#using-lasso-for-predictor-selection" title="Permanent link">Link</a></h3>
<p>The most widely researched and implemented modern method is the <strong>least absolute shrinkage and selection operator (Lasso)</strong>, which fits within the broader <strong>least angle regression framework (LARS)</strong> that can estimate Lasso with the computational complexity of ordinary least squares (OLS). Despite the overwhelming support for modern methods like Lasso in the statistical literature, <strong>more traditional methods such as p values or automatic selection methods such as forward, backward, or stepwise selection are still widely used</strong> even though short-comings of these methods have been disseminated for over a decade.</p>
<p>When fitting any type of regression model, random noise can become entangled with signal, especially with small or moderate sample sizes. This can lead to estimates that overstate the impact of particular predictor variables and attribute more predictive power to the model than is present in the population. When this occurs, the model is said to be <strong>overfit</strong> with the consequence that <strong>regression coefficients have inflated magnitude, standard errors are underestimated, p values are consequently too small, $R^2$ values are consequently too large compared to their population values</strong>, and the model is not parsimonious because extraneous predictors may be seen as important.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A widely quoted rule is that <a href="https://en.wikipedia.org/wiki/One_in_ten_rule">you need 10 or 15 observations per independent variable</a> in a regression model.
To avoid over-fitting in a binary logistic regression model, you need to focus on the number of events per variable (EPV), not the total number of cases (i.e. events plus non-events). An event is defined as the outcome category (0 or 1) with the lower frequency. For example, if a sample of 200 patients are studied and 180 patients die during the study (so that 20 patients survive), only two pre-specified predictors can reliably be fitted to the total data. Similarly, if 120 patients die during the study (so that 80 patients survive), eight pre-specified predictors (based on the smallest of the two counts, being 80) can be fitted reliably. If more are fitted, overfitting is likely and the results will not predict well outside the training data. Sometimes this rule is too conservative and <a href="https://doi.org/10.1093/aje/kwk052">can be relaxed</a>.
Notice that having a sample size large enough to avoid over-fitting is not the same thing as having a sample size large enough to ensure adequate power. That's a separate issue.</p>
</div>
<h3 id="proc-glmselect"><code>PROC GLMSELECT</code><a class="headerlink" href="#proc-glmselect" title="Permanent link">Link</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code>PROC GLMSELECT DATA=SAS-data-set <span class="nt">&lt;options&gt;</span>;
    CLASS variables;
    <span class="nt">&lt;label:&gt;</span> MODEL dependent(s) = regressor(s) / <span class="nt">&lt;/options&gt;</span>;
RUN;
QUIT;
</code></pre></div>
</td></tr></table>

<ul>
<li>The <code>SELECTION</code> option specifies the method to be used to select the model (<code>FORWARD</code> | <code>BACKWARD</code> | <code>STEPWISE</code> = default value)</li>
<li>The <code>SELECT</code> option specifies the criterion to be used to determine which variable to add/remove from the model (<code>SL</code> = significance level as the selection criterion)</li>
<li>The <code>SLENTRY</code> option determines the significance level for a variable to enter the model (default = 0.5 for forward and 0.15 for stepwise)</li>
<li>The <code>SLSTAY</code> option determines the significance level for a variable to stay in the model (default = 0.1 for backward and 0.15 for stepwise)</li>
<li>You can display p-values in the <em>Parameter Estimates</em> table by including the <code>SHOWPVALUES</code> option int he MODEL statement</li>
<li>The <code>DETAILS</code> option specifies the level of detail produced (<code>ALL</code> | <code>STEPS</code> | <code>SUMMARY</code>)</li>
</ul>
<hr />
<p>Recommendations to decide which model is best for your needs:</p>
<ol>
<li>Run all model selection methods</li>
<li>Look for commonalities across the results </li>
<li>Narrow down your choice of models by using your subject matter knowledge</li>
</ol>
<h2 id="information-criterion-and-other-selection-options">Information Criterion and Other Selection Options<a class="headerlink" href="#information-criterion-and-other-selection-options" title="Permanent link">Link</a></h2>
<p>There are other selection criteria that you can use to select variables for a model as well as evaluate competing models. These statistics are collectively referred to as <strong>information criteria</strong>. Each information criterion searched for a model that minimizes the <strong>unexplained variability</strong> with as <strong>few effects in the model as possible</strong>. The model with the <strong>smaller information criterion is considered to be better</strong>. For types are available in <code>PROC GLMSELECT</code>:</p>
<ul>
<li>Akaike's information criterion (<code>SELECT=AIC</code>)</li>
<li>Correcterd Akaike's information criterion (<code>SELECT=AICC</code>)</li>
<li>Sawa Bayesian information criterion (<code>SELECT=BIC</code>)</li>
<li>Schwarz Bayesian information criterion (<code>SELECT=SBC</code>, it could be called <code>BIC</code> in some other SAS procedures)</li>
</ul>
<p>The calculations of all information criteria begin the same way:</p>
<ol>
<li>First you calculate $n\cdot log(SSE/n)$ </li>
<li>Then, each criterion adds a penalty that represents the complexity of the model (each type of information criterion invokes a different penalty component)<ul>
<li><code>AIC</code>: $2p+n+2$</li>
<li><code>AICC</code>: $n(n+p)/(n-p-2)$</li>
<li><code>BIC</code>: $2(p+2)1-2q^2$</li>
<li><code>SBC</code>: $p\cdot log(n)$</li>
</ul>
</li>
</ol>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../anova/" title="Analysis of Variance (ANOVA)" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Analysis of Variance (ANOVA)
              </span>
            </div>
          </a>
        
        
          <a href="../inference/" title="Model Post-Fitting for Inference" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Model Post-Fitting for Inference
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../../js/mathjaxhelper.js"></script>
      
    
  </body>
</html>